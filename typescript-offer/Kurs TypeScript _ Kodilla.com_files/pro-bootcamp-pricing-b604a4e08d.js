const BOOTCAMP_TYPE="pro",BNP_INSTALLMENTS_NUMBER=60,BNP_PROVIDER_NAME="bnp",SANTANDER_PROVIDER_NAME="santander";App.Collections.ProBootcampPricingCollection=Backbone.Collection.extend({initialize:function(t){this.options=t},url:function(){return"/"+App.getLang()+"/pro-courses/"+this.options.bootcampSubType}}),App.Collections.BootcampPricingCollection=Backbone.Collection.extend({initialize:function(t){this.options=t},url:function(){let t="/"+this.options.locale||"",e=this.options.bootcampType||"";this.options.subType;return"/"+App.getLang()+"/pricing/bootcamps/"+e+t}}),App.Views.ProBootcampPricingView=Backbone.View.extend({initialize:function(){this.destinationCountry=window.locale,this.collection=new App.Collections.ProBootcampPricingCollection({bootcampSubType:this.getProSubType()}),this.pricingContainer=this.$el.find(".container"),this.pricingContainer.addClass("loading"),this.getCurrentPricing()},getProSubType:function(){return this.$el.data("bootcamp-sub-type").toLowerCase()},getCurrentPricing:function(){new App.Collections.BootcampPricingCollection({locale:this.destinationCountry,bootcampType:"pro"}).fetch().then(t=>t.filter(t=>t.sub_type===this.getProSubType()&&new Date(t.start)>new Date)[0]).then(t=>this.render(t)).then(()=>this.pricingContainer.removeClass("loading"))},getProperPrice:function(t,e){return App.Money(t,e,!0)},setCheckoutData:function(t){for(const[e,n]of Object.entries(t)){let t=this.pricingContainer.find("[data-pricing="+e+"]");t.find("[data-total-gross]").html(this.getProperPrice(n.total.gross,n.currency)),t.find("[data-total-net]").html(this.getProperPrice(n.total.net,n.currency)),"santander"===e?t.find("[data-single]").html(this.getProperPrice(n.table[0].gross,n.currency)):"bnp"===e&&t.find("[data-single]").html(this.prepareProviderSingleInstallmentValue(n.total.gross,n.currency,t.data().intrestRate,60)),t.find("[data-checkout]").attr("href",n.checkoutUrl+"&provider="+e)}},prepareProviderSingleInstallmentValue:function(t,e,n,i){return App.Money((t+t*n*i)/i,e,!0)},setNextEditionStartDate:function(t){let e=new Date(t),n=e.getDate()<10?"0"+e.getDate():e.getDate(),i=e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1,o=e.getFullYear();this.pricingContainer.find("[data-start]").html(n+"."+i+"."+o+" "+this.getDayOfTheWeek(e.getDay()))},setupCounter:function(t){let e=setInterval((function(){let n=new Date,i=new Date(t),o=i-n,r=Math.floor(o/864e5),a=Math.floor(o%864e5/36e5),c=Math.floor(o%36e5/6e4),s=Math.floor(o%6e4/1e3);i<n?clearInterval(e):$("#next-edition-counter").html(r+" dni "+a+" godzin "+c+" minut "+s+" sekundy")}),1e3)},getDayOfTheWeek(t){switch(t){case 0:return"(niedziela)";case 1:return"(poniedziałek)";case 2:return"(wtorek)";case 3:return"(środa)";case 4:return"(czwartek)";case 5:return"(piątek)";case 5:return"(sobota)";default:return""}},render:function(t){this.setCheckoutData(t.prices),this.setNextEditionStartDate(t.start),this.setupCounter(t.start)}});