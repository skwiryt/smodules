<!DOCTYPE html>
<!-- saved from url=(0051)https://kodilla.com/pl/bootcamp-module/407/275/5935 -->
<html lang="pl" class=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="ahrefs-site-verification" content="c2d3c04b9f125c5b8c98d89f738d343f69d841f035150344a932150235c5639a">
    
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="csrf-token" content="RtYZFGj83q4iSrSPWWX0bG3bzYwVu4VNaOaoyGGq">

<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="https://kodilla.com/static/img/icons/apple-touch-icon-60x60.png?00000">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://kodilla.com/static/img/icons/apple-touch-icon-76x76.png?00000">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://kodilla.com/static/img/icons/apple-touch-icon-120x120.png?00000">
<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://kodilla.com/static/img/icons/apple-touch-icon-152x152.png?00000">
<link rel="icon" type="image/png" sizes="32x32" href="https://kodilla.com/static/img/icons/favicon-32x32.png?00000">
<link rel="icon" type="image/png" sizes="96x96" href="https://kodilla.com/static/img/icons/favicon-96x96.png?00000">
<link rel="icon" type="image/png" sizes="16x16" href="https://kodilla.com/static/img/icons/favicon-16x16.png?00000">

    <link rel="canonical" href="https://kodilla.com/pl/bootcamp-module/407/275/5935">

    <meta name="robots" content="noindex, follow">
    <title>    Moduł: 26. Node.js - JavaScript poza przeglądarką
</title>
        <script type="text/javascript" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/saved_resource"></script><script type="text/javascript" async="" id="inspsync" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/inspectlet.js"></script><script type="text/javascript" async="" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/js"></script><script type="text/javascript" async="" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/saved_resource(1)"></script><script async="" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/tfa.js" id="tb_tfa_script"></script><script type="text/javascript" async="" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/insight.min.js"></script><script type="text/javascript" async="" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/analytics.js"></script><script type="text/javascript" async="" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/analytics.js"></script><script type="text/javascript" async="" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/js(1)"></script><script async="" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/gtm.js"></script><script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/389137334769464" async=""></script><script async="" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/fbevents.js"></script><script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/sdk.js" async="" crossorigin="anonymous"></script><script id="facebook-jssdk" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/sdk(1).js"></script><script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/diffuser.js" async=""></script><script>document.documentElement.classList.remove("no-js")</script>
<script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/yall.min.js"></script>
<link rel="stylesheet" href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/bootstrap.min.css" as="style" onload="this.rel=&#39;stylesheet&#39;">
<link href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/main-b3cf79332c.css" as="style" onload="this.rel=&#39;stylesheet&#39;">
            
    <link href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/prism.min.css" rel="stylesheet">

    <link href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/bootcamp-6d0888d826.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/perfect-scrollbar.css">
    <link rel="stylesheet" href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/jquery.fancybox.min.css" type="text/css" media="screen">
    <link href="https://kodilla.com/static/css/libs/bootstrap-datetimepicker.min.css?00000">
    <link rel="stylesheet" href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/content.css">

<script async="" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/hotjar-2404285.js"></script><script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/OneSignalPageSDKES6.js" async=""></script><style type="text/css">.fancybox-margin{margin-right:15px;}</style><script async="" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/modules.2ec2062e86adda67b2fe.js" charset="utf-8"></script><style type="text/css">iframe#_hjRemoteVarsFrame {display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;}</style><link href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/esw.min.css" type="text/css" rel="stylesheet"><style id="inert-style">
[inert] {
	pointer-events: none;
	cursor: default;
}

[inert], [inert] * {
	user-select: none;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
}
</style><script type="text/javascript" charset="utf-8" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/saved_resource(2)" async=""></script><style type="text/css" data-fbcssmodules="css:fb.css.base css:fb.css.dialog css:fb.css.iframewidget css:fb.css.customer_chat_plugin_iframe">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_dialog_advanced{border-radius:8px;padding:10px}.fb_dialog_content{background:#fff;color:#373737}.fb_dialog_close_icon{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{left:5px;right:auto;top:5px}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{height:100%;left:0;margin:0;overflow:visible;position:absolute;top:-10000px;transform:none;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{background:none;height:auto;min-height:initial;min-width:initial;width:auto}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{clear:both;color:#fff;display:block;font-size:18px;padding-top:20px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .4);bottom:0;left:0;min-height:100%;position:absolute;right:0;top:0;width:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_mobile .fb_dialog_iframe{position:sticky;top:0}.fb_dialog_content .dialog_header{background:linear-gradient(from(#738aba), to(#2c4987));border-bottom:1px solid;border-color:#043b87;box-shadow:white 0 1px 1px -1px inset;color:#fff;font:bold 14px Helvetica, sans-serif;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:linear-gradient(from(#4267B2), to(#2a4887));background-clip:padding-box;border:1px solid #29487d;border-radius:3px;display:inline-block;line-height:18px;margin-top:3px;max-width:85px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{background:none;border:none;color:#fff;font:bold 12px Helvetica, sans-serif;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #4a4a4a;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f5f6f7;border:1px solid #4a4a4a;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-position:50% 50%;background-repeat:no-repeat;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}
.fb_mpn_mobile_landing_page_slide_out{animation-duration:200ms;animation-name:fb_mpn_landing_page_slide_out;transition-timing-function:ease-in}.fb_mpn_mobile_landing_page_slide_out_from_left{animation-duration:200ms;animation-name:fb_mpn_landing_page_slide_out_from_left;transition-timing-function:ease-in}.fb_mpn_mobile_landing_page_slide_up{animation-duration:500ms;animation-name:fb_mpn_landing_page_slide_up;transition-timing-function:ease-in}.fb_mpn_mobile_bounce_in{animation-duration:300ms;animation-name:fb_mpn_bounce_in;transition-timing-function:ease-in}.fb_mpn_mobile_bounce_out{animation-duration:300ms;animation-name:fb_mpn_bounce_out;transition-timing-function:ease-in}.fb_mpn_mobile_bounce_out_v2{animation-duration:300ms;animation-name:fb_mpn_fade_out;transition-timing-function:ease-in}.fb_customer_chat_bounce_in_v2{animation-duration:300ms;animation-name:fb_bounce_in_v2;transition-timing-function:ease-in}.fb_customer_chat_bounce_in_from_left{animation-duration:300ms;animation-name:fb_bounce_in_from_left;transition-timing-function:ease-in}.fb_customer_chat_bounce_out_v2{animation-duration:300ms;animation-name:fb_bounce_out_v2;transition-timing-function:ease-in}.fb_customer_chat_bounce_out_from_left{animation-duration:300ms;animation-name:fb_bounce_out_from_left;transition-timing-function:ease-in}.fb_customer_chat_bubble_animated_no_badge{box-shadow:0 3px 12px rgba(0, 0, 0, .15);transition:box-shadow 150ms linear}.fb_customer_chat_bubble_animated_no_badge:hover{box-shadow:0 5px 24px rgba(0, 0, 0, .3)}.fb_customer_chat_bubble_animated_with_badge{box-shadow:-5px 4px 14px rgba(0, 0, 0, .15);transition:box-shadow 150ms linear}.fb_customer_chat_bubble_animated_with_badge:hover{box-shadow:-5px 8px 24px rgba(0, 0, 0, .2)}.fb_invisible_flow{display:inherit;height:0;overflow-x:hidden;width:0}.fb_new_ui_mobile_overlay_active{overflow:hidden}@keyframes fb_mpn_landing_page_slide_in{0%{border-radius:50%;margin:0 24px;width:60px}40%{border-radius:18px}100%{margin:0 12px;width:100% - 24px}}@keyframes fb_mpn_landing_page_slide_in_from_left{0%{border-radius:50%;left:12px;margin:0 24px;width:60px}40%{border-radius:18px}100%{left:12px;margin:0 12px;width:100% - 24px}}@keyframes fb_mpn_landing_page_slide_out{0%{margin:0 12px;width:100% - 24px}60%{border-radius:18px}100%{border-radius:50%;margin:0 24px;width:60px}}@keyframes fb_mpn_landing_page_slide_out_from_left{0%{left:12px;width:100% - 24px}60%{border-radius:18px}100%{border-radius:50%;left:12px;width:60px}}@keyframes fb_mpn_landing_page_slide_up{0%{bottom:0;opacity:0}100%{bottom:24px;opacity:1}}@keyframes fb_mpn_bounce_in{0%{opacity:.5;top:100%}100%{opacity:1;top:0}}@keyframes fb_mpn_fade_out{0%{bottom:30px;opacity:1}100%{bottom:0;opacity:0}}@keyframes fb_mpn_bounce_out{0%{opacity:1;top:0}100%{opacity:.5;top:100%}}@keyframes fb_bounce_in_v2{0%{opacity:0;transform:scale(0, 0);transform-origin:bottom right}50%{transform:scale(1.03, 1.03);transform-origin:bottom right}100%{opacity:1;transform:scale(1, 1);transform-origin:bottom right}}@keyframes fb_bounce_in_from_left{0%{opacity:0;transform:scale(0, 0);transform-origin:bottom left}50%{transform:scale(1.03, 1.03);transform-origin:bottom left}100%{opacity:1;transform:scale(1, 1);transform-origin:bottom left}}@keyframes fb_bounce_out_v2{0%{opacity:1;transform:scale(1, 1);transform-origin:bottom right}100%{opacity:0;transform:scale(0, 0);transform-origin:bottom right}}@keyframes fb_bounce_out_from_left{0%{opacity:1;transform:scale(1, 1);transform-origin:bottom left}100%{opacity:0;transform:scale(0, 0);transform-origin:bottom left}}@keyframes fb_bounce_out_v2_mobile_chat_started{0%{opacity:1;top:0}100%{opacity:0;top:20px}}@keyframes fb_customer_chat_bubble_bounce_in_animation{0%{bottom:6pt;opacity:0;transform:scale(0, 0);transform-origin:center}70%{bottom:18pt;opacity:1;transform:scale(1.2, 1.2)}100%{transform:scale(1, 1)}}@keyframes slideInFromBottom{0%{opacity:.1;transform:translateY(100%)}100%{opacity:1;transform:translateY(0)}}@keyframes slideInFromBottomDelay{0%{opacity:0;transform:translateY(100%)}97%{opacity:0;transform:translateY(100%)}100%{opacity:1;transform:translateY(0)}}</style><script type="text/javascript" charset="utf-8" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/t_prism_sitemessages.php" async=""></script></head>
<body class="student callus-enabled" cz-shortcut-listen="true">
<!-- Facebook Pixel Code -->
<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=389137334769464&ev=PageView&noscript=1"/></noscript>
<!-- End Facebook Pixel Code -->
<script>
    document.getElementsByTagName('body')[0].classList.remove('no-js');
    if ( window.isDifferentZone ) {
        document.querySelector('body').classList.add('time-conversion-applied');
    }
    if ( window.hasWrongTime ) {
        document.querySelector('body').classList.add('wrong-hour');
    }
</script>

    <nav class="navbar-main hidden-sm-down dark navbar">
    <div class="nav-container">
        <div class="navbar-header clearfix">
            <button class="navbar-toggler hidden-md-up pull-right" type="button" data-toggle="collapse" data-target="#collapsingNavbarUpper"><i class="fa fa-bars"></i></button>
        </div>
        <div class="collapse navbar-toggleable-sm container" id="collapsingNavbarUpper">
            <ul class="nav navbar-nav navbar-nav-left">
                                    <li class="nav-item nav-contact">
    <span>Skontaktuj się z nami:</span>
    <a href="mailto:support@kodilla.com">
        <i class="fa fa-envelope-o"></i>
        support@kodilla.com
    </a>
    <span>lub</span>
    <a href="javascript:openChat();">
        <i class="fa fa-comments"></i>
        porozmawiaj na czacie
    </a>
</li>
                                </ul>
            <ul class="nav navbar-nav pull-right">
                                <li class="nav-item">
                    <a href="https://kodilla.com/pl/informator" class="nav-link" target="_blank">
        Informator
    </a>
                </li>
                <li class="nav-item hidden-sm-down">
    <a href="https://kodilla.com/pl/account" class="nav-link">Konto</a>
</li>
        <li class="nav-item">
    <a class="analytics-track nav-link nav-link-accent" data-event="account_logout" href="https://kodilla.com/pl/sign-out">Wyloguj</a>
</li>
                            </ul>
        </div>
    </div>
</nav>
<nav class="navbar-main light navbar">
    <div class="container clearfix">
        <a class="navbar-brand" href="https://kodilla.com/pl">
            <img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/kodilla-nav-logo.svg" alt="Kodilla - szkoła programowania">
        </a>
        <span class="contact-us-button-container"></span>
        <button class="navbar-toggler pull-right collapsed" type="button" data-toggle="collapse" data-target="#navbar-main">
            <i class="fa fa-bars navbar-ico-open"></i>
            <i class="fa fa-times navbar-ico-close"></i>
        </button>
        <ul id="navbar-main" class="nav navbar-nav pull-right collapse">
            <li class="nav-item hidden-sm-down">
    <a class="dropdown-toggle nav-link" href="https://kodilla.com/pl/poznaj-nasze-bootcampy">
        Szkolenia Bootcamp
    </a>
    <ul class="bootcamp-list">
                    <li class="list-sub list-sub-fe">
                <img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/menu_fer.svg" class="menu-svg" width="32px" height="32px" title="menu_fer_logo">
                <a href="https://kodilla.com/pl/bootcamp/front-end">
                    <h4 class="bootcamp-name">Front-end: React</h4>
                    <p>Naucz się tworzyć front-end aplikacji w 4 miesiące</p>
                </a>
            </li>
            <li class="list-sub">
                <img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/menu_wd.svg" class="menu-svg" width="32px" height="32px" title="menu_wd_logo">
                <a href="https://kodilla.com/pl/bootcamp/webdeveloper?type=wdp">
                    <h4 class="bootcamp-name">Web Developer</h4>
                    <p>Naucz&nbsp;się tworzyć aplikacje internetowe od&nbsp;podstaw</p>
                    <span class="bootcamp-label">FRONT-END i BACK-END</span>
                </a>
            </li>

            <li class="list-sub">
                <img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/menu_java.svg" class="menu-svg" width="32px" height="32px" title="menu_java_logo">
                <a href="https://kodilla.com/pl/bootcamp/java?type=jdp">
                    <h4 class="bootcamp-name">Java Developer</h4>
                    <p>Poznaj najpopularniejszy na&nbsp;świecie język programowania od&nbsp;zera</p>
                </a>
            </li>
            <li class="list-sub">
                <img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/menu_python.svg" class="menu-svg" width="32px" height="32px" title="menu_python_logo">
                <a href="https://kodilla.com/pl/bootcamp/python">
                    <h4 class="bootcamp-name">Python Developer</h4>
                    <p>Zdobądź kompetencje do tworzenia rozwiązań webowych</p>
                </a>
            </li>
            <li class="list-sub">
                <img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/menu_tester.svg" class="menu-svg" width="32px" height="32px" title="menu_tester_logo">
                <a href="https://kodilla.com/pl/bootcamp/tester-automatyzujacy">
                    <h4 class="bootcamp-name">Tester Automatyzujący</h4>
                    <p>Poznaj podstawy testowania automatycznego w Javie</p>
                </a>
            </li>
            <li class="list-sub">
                <img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/menu_game.svg" class="menu-svg" width="32px" height="32px" title="menu_mage_logo">
                <a href="https://kodilla.com/pl/bootcamp/game-dev">
                    <h4 class="bootcamp-name">Mobile Game Developer</h4>
                    <p>Zdobądź kompetencje do tworzenia gier</p>
                    <span class="bootcamp-label">nowość</span>
                </a>
            </li>
            </ul>
</li>

                        <li class="nav-item hidden-sm-down">
    <a class="dropdown-toggle nav-link" href="https://kodilla.com/pl/szkolenia-pro">
        Szkolenia Pro
    </a>
    <ul>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/mikroserwisy" class="nav-link">Mikroserwisy w Javie</a></li>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/spring-hibernate" class="nav-link">Spring i Hibernate</a></li>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/wielowatkowosc" class="nav-link">Wielowątkowość w Javie</a></li>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/django" class="nav-link">Aplikacje webowe z Django</a></li>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/wizualizacja-danych" class="nav-link">Analiza danych w Pythonie</a></li>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/machine-learning" class="nav-link">Podstawy Machine Learning</a></li>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/bigdata-pyspark" class="nav-link">Big Data z PySpark</a></li>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/automatyzacja-testow" class="nav-link">Automatyzacja testów</a></li>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/vanilla-js" class="nav-link">Advanced Vanilla JS</a></li>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/typescript" class="nav-link">TypeScript - kurs praktyczny</a></li>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/vue3" class="nav-link">Vue3 - kompletny przewodnik</a></li>
        <li><a href="https://kodilla.com/pl/szkolenia-pro/zaawansowany-backend" class="nav-link">Backend zaawansowany</a></li>
    </ul>
</li>
            <li class="nav-item hidden-sm-down">
    <a class="dropdown-toggle nav-link">
        Strefa kursanta
    </a>
    <ul>
                    <li><a href="https://kodilla.com/pl/bootcamp-dashboard/407" class="nav-link">Bootcamp WD PLUS 2020-12</a></li>
                    <li><a class="nav-link" href="https://kodilla.com/pl/kursy">Samodzielne kursy</a></li>
                    <li><a class="nav-link" href="https://chat.kodilla.com/" target="_blank">Komunikator</a></li>
                    <li><a class="nav-link" href="https://kodilla.com/pl/projects">Moje projekty</a></li>
    </ul>
</li>
                            <li class="nav-item hidden-sm-down">
    <a class="dropdown-toggle nav-link">
        O nas
    </a>
    <ul class="about-us">
        <li><a href="https://kodilla.com/pl/mentorzy" class="nav-link">Mentorzy</a></li>
        <li><a href="https://kodilla.com/pl/zespol" class="nav-link">Zespół Kodilli</a></li>
        <li><a href="https://kodilla.com/pl/o-nas" class="nav-link">O firmie</a></li>
    </ul>
</li>
                                                                    <li class="nav-item hidden-md-up nav-group">
    <span class="mobile-menu-separator">Szkolenia Bootcamp</span>
    <ul>
                    <li class="nav-item list-sub-fe">
                <a class="nav-link nav-link-with-label" href="https://kodilla.com/pl/bootcamp/front-end">Bootcamp Front-end: React
                </a>
            </li>
                <li class="nav-item">
            <a class="nav-link nav-link-with-label" href="https://kodilla.com/pl/bootcamp/webdeveloper">Bootcamp Web Developer
                <span class="bootcamp-label">FRONT-END i BACK-END</span>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="https://kodilla.com/pl/bootcamp/java">Bootcamp Java</a>
        </li>
        <li class="nav-item list-sub-fe">
            <a class="nav-link nav-link-with-label" href="https://kodilla.com/pl/bootcamp/tester-automatyzuj%C4%85cy">Bootcamp Tester Automatyzujący
            </a>
        </li>
        <li class="nav-item list-sub-fe">
            <a class="nav-link nav-link-with-label" href="https://kodilla.com/pl/bootcamp/python">Python Developer
            </a>
        </li>
        <li class="nav-item list-sub-fe">
            <a class="nav-link nav-link-with-label" href="https://kodilla.com/pl/bootcamp/game-dev">Mobile Game Developer
                <span class="bootcamp-label">nowość</span>
            </a>
        </li>
    </ul>
</li>
<li class="nav-item hidden-md-up nav-group">
    <a class="nav-link-bold" href="https://kodilla.com/pl/szkolenia-pro">Szkolenia Pro</a>
</li>
            <li class="nav-item hidden-md-up nav-group">
            <span class="mobile-menu-separator">Strefa kursanta</span>
            <ul>
                <li class="nav-item ">
                                            <a class="nav-link" href="https://kodilla.com/pl/bootcamp-dashboard/407">
                            Bootcamp   WD PLUS 2020-12
                        </a>
                                    </li>
                <li class="nav-item ">
                    <a class="nav-link" href="https://kodilla.com/pl/kursy">Samodzielne kursy</a>
                </li>
                                    <li class="nav-item ">
                        <a class="nav-link" href="https://chat.kodilla.com/" target="_blank">Komunikator</a>
                    </li>
                                <li class="nav-item">
                    <a class="nav-link" href="https://kodilla.com/pl/projects">Moje projekty</a>
                </li>
            </ul>
        </li>
    
        
            <li class="nav-item hidden-md-up nav-group">
            <span class="mobile-menu-separator">O nas</span>
            <ul>
                <li class="nav-item">
                    <a href="https://kodilla.com/pl/mentorzy" class="nav-link">Mentorzy</a>
                </li>
                <li class="nav-item">
                    <a href="https://kodilla.com/pl/zespol" class="nav-link">Zespół Kodilli</a>
                </li>
                <li class="nav-item">
                    <a href="https://kodilla.com/pl/o-nas" class="nav-link">O firmie</a>
                </li>
            </ul>
        </li>
    
<li class="nav-item hidden-md-up nav-group">
    <span class="mobile-menu-separator">Pozostałe</span>
    <ul>
                                        
        <li class="nav-item">
            <a href="https://kodilla.com/pl/informator" class="nav-link" target="_blank">
        Informator
    </a>
        </li>
    </ul>

</li>

    <li class="nav-item hidden-md-up">
        <a class="nav-link" href="https://kodilla.com/pl/account">Konto</a>
    </li>
    <li class="nav-item hidden-md-up">
        <a class="nav-link analytics-track" data-event="account_logout" href="https://kodilla.com/pl/sign-out">Wyloguj</a>
    </li>

        
    <li class="nav-item hidden-md-up nav-group">
        <span class="mobile-menu-separator">Skontaktuj się z nami</span>
        <ul>
            <li class="nav-item">
                <a href="mailto:support@kodilla.com" class="nav-link">
                    <i class="fa fa-envelope-o"></i>
                    support@kodilla.com
                </a>
            </li>
            <li class="nav-item">
                <a href="javascript:openChat();" class="nav-link">
                    <i class="fa fa-comments"></i>
                    <span>Porozmawiaj na czacie</span>
                </a>
            </li>
        </ul>
    </li>
        </ul>
    </div>
</nav>
<main class="bootcamp module page-height-fix" id="bootcamp-module">
    <div class="aside-toggle hidden-md-up">
        <button class="navbar-toggler pull-left collapsed" type="button" data-toggle="collapse" data-target="#aside-sticky" aria-expanded="false">
            <i class="fa fa-bars navbar-ico-open"></i>
            <i class="fa fa-times navbar-ico-close"></i>
        </button>
    </div>
    <div class="table-of-contents aside-sticky collapsed collapse" id="aside-sticky">
        <section class="container">
            <div class="row">
                <aside class="module-nav col-md-4 col-md-offset-8">
                    <section class="card">
                        <div class="card-header">
                            <h4 class="card-title">Spis treści modułu</h4>
                        </div>
                        <ul class="list-group list-group-flush ps-container ps-theme-default ps-active-y" data-ps-id="e2f13f8b-92a2-f61f-9b4b-ac2d6619caef">
                                                        <li class="list-group-item completed">
                                <a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#submodule-1107" class="clearfix">
                                    <p>26.1. Czym jest Node.js?</p>
                                    <i class="fa fa-check-circle-o"></i>
                                    <i class="fa fa-play-circle-o"></i>
                                    <i class="fa fa-send-o"></i>
                                    <i class="fa fa-exclamation-circle"></i>
                                </a>
                            </li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#261-czym-jest-nodejs-instalacja-nodejs" class="clearfix">Instalacja Node.js</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#261-czym-jest-nodejs-pierwsze-starcie" class="clearfix">Pierwsze starcie</a></li>
                                                        <li class="list-group-item completed">
                                <a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#submodule-1108" class="clearfix">
                                    <p>26.2. Nowe możliwości</p>
                                    <i class="fa fa-check-circle-o"></i>
                                    <i class="fa fa-play-circle-o"></i>
                                    <i class="fa fa-send-o"></i>
                                    <i class="fa fa-exclamation-circle"></i>
                                </a>
                            </li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#262-nowe-mozliwosci-pierwsza-aplikacja" class="clearfix">Pierwsza aplikacja</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#262-nowe-mozliwosci-require-vs-import" class="clearfix">require vs import</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#262-nowe-mozliwosci-wracamy-do-pracy" class="clearfix">Wracamy do pracy</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#262-nowe-mozliwosci-podsumowanie" class="clearfix">Podsumowanie</a></li><li class="list-group-item list-group-flush sub task"><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#262-nowe-mozliwosci-zadanie-generator-tozsamosci" class="clearfix">Zadanie: generator tożsamości</a></li>
                                                        <li class="list-group-item completed">
                                <a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#submodule-1109" class="clearfix">
                                    <p>26.3. Zewnętrzne paczki</p>
                                    <i class="fa fa-check-circle-o"></i>
                                    <i class="fa fa-play-circle-o"></i>
                                    <i class="fa fa-send-o"></i>
                                    <i class="fa fa-exclamation-circle"></i>
                                </a>
                            </li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#263-zewnetrzne-paczki-co-zbudujemy" class="clearfix">Co zbudujemy?</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#263-zewnetrzne-paczki-zaczynamy" class="clearfix">Zaczynamy!</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#263-zewnetrzne-paczki-rozwijamy-addtextwatermarktoimage" class="clearfix">Rozwijamy addTextWatermarkToImage</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#263-zewnetrzne-paczki-watermark-obrazkowy" class="clearfix">Watermark obrazkowy</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#263-zewnetrzne-paczki-komunikacja-z-uzytkownikiem" class="clearfix">Komunikacja z użytkownikiem</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#263-zewnetrzne-paczki-nazwa-pliku-koncowego" class="clearfix">Nazwa pliku końcowego</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#263-zewnetrzne-paczki-testujemy-aplikacje" class="clearfix">Testujemy aplikację</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#263-zewnetrzne-paczki-podsumowanie" class="clearfix">Podsumowanie</a></li><li class="list-group-item list-group-flush sub task"><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#263-zewnetrzne-paczki-zadanie-rozwijamy-aplikacje" class="clearfix">Zadanie: rozwijamy aplikację</a></li>
                                                        <li class="list-group-item completed">
                                <a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#submodule-1110" class="clearfix">
                                    <p>26.4. Electron – budujemy pełnoprawne aplikacje desktopowe</p>
                                    <i class="fa fa-check-circle-o"></i>
                                    <i class="fa fa-play-circle-o"></i>
                                    <i class="fa fa-send-o"></i>
                                    <i class="fa fa-exclamation-circle"></i>
                                </a>
                            </li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#264-electron-budujemy-pelnoprawne-aplikacje-desktopowe-do-dziela" class="clearfix">Do dzieła!</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#264-electron-budujemy-pelnoprawne-aplikacje-desktopowe-jazda-testowa" class="clearfix">Jazda testowa!</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#264-electron-budujemy-pelnoprawne-aplikacje-desktopowe-wlasne-ustawienia" class="clearfix">Własne ustawienia</a></li><li class="list-group-item list-group-flush sub task"><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#264-electron-budujemy-pelnoprawne-aplikacje-desktopowe-zadanie-wiecej-praktyki" class="clearfix">Zadanie: więcej praktyki</a></li>
                                                        <li class="list-group-item completed">
                                <a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#submodule-1111" class="clearfix">
                                    <p>26.5. Publikujemy własną paczkę!</p>
                                    <i class="fa fa-check-circle-o"></i>
                                    <i class="fa fa-play-circle-o"></i>
                                    <i class="fa fa-send-o"></i>
                                    <i class="fa fa-exclamation-circle"></i>
                                </a>
                            </li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#265-publikujemy-wlasna-paczke-budujemy-generator-id" class="clearfix">Budujemy generator ID</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#265-publikujemy-wlasna-paczke-czas-na-publikacje" class="clearfix">Czas na publikację!</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#265-publikujemy-wlasna-paczke-testujemy" class="clearfix">Testujemy!</a></li><li class="list-group-item list-group-flush sub "><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#265-publikujemy-wlasna-paczke-v10-v11-v12" class="clearfix">v1.0, v1.1, v1.2...</a></li><li class="list-group-item list-group-flush sub task"><a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#265-publikujemy-wlasna-paczke-zadanie-dodajemy-opis" class="clearfix">Zadanie: dodajemy opis</a></li>
                                                        <li class="list-group-item completed">
                                <a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#submodule-1112" class="clearfix">
                                    <p>26.6. Podsumowanie</p>
                                    <i class="fa fa-check-circle-o"></i>
                                    <i class="fa fa-play-circle-o"></i>
                                    <i class="fa fa-send-o"></i>
                                    <i class="fa fa-exclamation-circle"></i>
                                </a>
                            </li>
                                                    <div class="ps-scrollbar-x-rail" style="left: 0px; bottom: 3px;"><div class="ps-scrollbar-x" tabindex="0" style="left: 0px; width: 0px;"></div></div><div class="ps-scrollbar-y-rail" style="top: 0px; height: 606px; right: 3px;"><div class="ps-scrollbar-y" tabindex="0" style="top: 0px; height: 241px;"></div></div></ul>
                        <div class="card-block text-center">
                                                                                                <a href="https://kodilla.com/pl/bootcamp-dashboard/407">Powrót do dashboardu</a>
                                                                                    </div>
                    </section>
                </aside>
            </div>
        </section>
    </div>
    <section class="container module-content">
        <div class="row">
            <main class="col-md-8">
                <section class="card">
                    <div class="card-block module-header clearfix  completed ">
                        <h1 class="card-title">26. Node.js - JavaScript poza przeglądarką</h1>
                                                <i class="fa fa-bookmark fa-3x" aria-hidden="true"></i>
                    </div>
                                        <div class="card-block challenge">
                        <h3>Wyzwania:</h3>
                        <ul>
<li>dowiesz się jak kompilować JS-a poza przeglądarką,</li>
<li>zbudujesz swoje pierwsze desktopowe aplikacje,</li>
<li>opublikujesz własną paczkę w repozytorium NPM-a.</li>
</ul>
<h3>Wstęp</h3>
<p>Dotychczas wszystkie nasze projekty uruchamialiśmy za pomocą przeglądarki. Otwieraliśmy w niej plik <code>.html</code>, a ta zajmowała się resztą – wczytywała potrzebne style, obrazki, a przede wszystkim <strong>zajmowała się kompilacją i uruchomieniem skryptów JS-owych</strong>. Działo się tak nawet wtedy, kiedy całość naszej aplikacji była <em>bundlowana</em> za pomocą Webpacka. Wtedy też otrzymywaliśmy jeden większy plik JS (najczęściej maksymalnie skompresowany) i ostatecznie był on kompilowany przez przeglądarkę dopiero przy podglądzie.</p>
<p>Czy jest to złe rozwiązanie? Bardzo często wręcz przeciwnie – wydaje się optymalne i dość wygodne. Taki sposób uruchamiania naszych projektów jest bardzo prosty. Co prawda wiemy o różnicach między wspieranymi standardami przez kolejne wersje przeglądarek, ale ta wada może być łatwo niwelowana poprzez użycia wspomnianego wcześniej Webpacka.</p>
<p>Niemniej jednak takie podejście do kompilacji naszego kodu ma też pewne ograniczenia. Jakie?</p>
<p>Przede wszystkim, <strong>przeglądarka nie daje nam możliwości bezpośredniego uruchomienia plików JS</strong>. Nawet jeśli nie ma w nich żadnych instrukcji, które wymagałyby kontaktu z DOM-em, to i tak musimy przygotować przynajmniej pusty plik HTML, dodać w nim import naszego skryptu i dopiero uruchomienie go w przeglądarce skompiluje nasz kod JS. Próba otwarcia samego pliku z rozszerzeniem <code>.js</code> spowoduje tylko pokazanie jego zawartości.</p>
<p>Drugie ograniczenie jest poważniejsze. O ile sama przeglądarka, jako program desktopowy, ma dostęp do systemu, to my nie mamy takiej możliwości z poziomu naszego kodu JS. <strong>Nie możemy więc zapisywać, odczytywać czy usuwać plików. Nie mamy też możliwości odczytu zawartości katalogów czy tworzenia ich.</strong> Brakuje nam również dostępu do informacji o użytkowniku komputera. Przeglądarka posiada taki dostęp, jednak dla naszych skryptów jest on bardzo ograniczany. Pozbawia nas to mnóstwa możliwości – edytor tekstu, eksplorator plików, czy wiele innych pomysłów na aplikacje, nie może być w takim scenariuszu zrealizowanych.</p>
<p>Co więcej, w rozwiązaniach webowych często <strong>potrzebujemy kodu uruchamianego na serwerze</strong>. Pomyśl np. o panelu administracyjnym restauracji – musi on pozwalać np. na edycję rezerwacji stolika, ale tylko jeśli użytkownik panelu pomyślnie się zalogował. To jest kwestia bezpieczeństwa danych, więc nie możemy opierać się na kodzie JS uruchamianym w przeglądarce, ponieważ jest on w pełni dostępny dla każdego. Z tego względu potrzebujemy skryptu na serwerze, który sprawdzi, czy użytkownik podał prawidłowe hasło – i tylko w tym przypadku pozwoli mu pobrać czy edytować informacje dotyczące rezerwacji stolika.</p>
<p>Czy to oznacza, że za pomocą JS-a po prostu nie stworzymy pewnych rzeczy i musimy w takich sytuacjach używać innych języków programowania? Niekoniecznie.</p>

                    </div>
                                    </section>
                                    
                <section id="submodule-1107" class="card submodule completed" data-bootcamp-user-submodule-id="658344">
                <!-- klasy dla section: completed current comments -->
                    <div class="card-block submodule-header clearfix">
                        <i class="fa fa-check-circle-o fa-2x"></i>
                        <i class="fa fa-play-circle-o fa-2x"></i>
                        <i class="fa fa-exclamation-circle fa-2x"></i>
                        <i class="fa fa-send-o fa-2x"></i>
                        <h2 class="bootcamp-submodule-name">26.1. <span>Czym jest Node.js?</span></h2>
                                            </div>
                    <div class="card-block">
                        <div class="submodule-content">
                            <p>Możemy domyślać się, że przeglądarka używa jakiegoś silnika do kompilacji JS-a i faktycznie tak jest, np. ten używany w Google Chrome nazywa się <strong>V8</strong>. Zatem pojawia się pytanie, czy istnieje możliwość, żeby dostać się do samego silnika i użyć go bez pomocy przeglądarki? Tym samym mielibyśmy możliwość bezpośredniej kompilacji plików JS, i to bez ograniczeń, które nakładają nam przeglądarki. Odpowiedź brzmi – tak, jest taka możliwość!</p>
<p>Dokładnie taka idea przyświecała twórcom <strong>Node.js</strong>, którzy stworzyli kompilator zbudowany właśnie na podstawie silnika <strong>V8</strong>. Pozwala on na <strong>bezpośrednie kompilowanie plików JS</strong> oraz co ważniejsze – <strong>daje możliwość dostępu do komputera</strong>, na którym uruchomiony został skrypt JS. Mowa tu o systemie plików (czyli możliwości zapisu, odczytu, modyfikacji danych), ale też informacji o samym systemie (używany język, procesor itd.).</p>
<p>To otwiera przed nami ogromne perspektywy. Możemy pisać za pomocą JS-a aplikacje desktopowe, które w pełni wykorzystują możliwości naszego komputera. Aplikacje edytora tekstu, eksploratory plików, programy do obróbki grafiki – to wszystko może być napisane w JS-ie dzięki Node.js. Co więcej, skoro uzyskujemy bezpośredni dostęp do komputera, mamy też możliwość uruchamiania na jego podstawie serwera! Jest to dla nas świetna informacja, ponieważ oznacza, że w JS-ie istnieje możliwość pisania również backendowych części aplikacji. I właśnie to – możliwość pisania zarówno frontendu, jak i backendu w jednym języku (JS), jest prawdopodobnie największą zaletą Node.js.</p>
<p>Platforma ta rozwija się niezwykle dynamicznie, przez co lawinowo rośnie liczba dodatkowych modułów i narzędzi udostępnianych w internecie, ułatwiających życie programistom. Przekonasz się o tym już wkrótce. Node.js daje nam szybki, skalowalny i międzyplatformowy sposób na tworzenie aplikacji. Jego możliwości sięgają jednak o wiele dalej, np. w znaczący sposób wspomagają rozwój&nbsp;<strong>Internetu Rzeczy</strong> (Internet of Things).</p>
<p>Żeby jeszcze bardziej zachęcić Cię do tej technologii, może warto podać też kilka przykładów użycia jej w praktyce. Z Node.js korzystano m.in. przy budowie edytorów tekstu <strong>Atom</strong>, <strong>Visual Studio Code</strong>, czy desktopowej wersji komunikatora <strong>Slack</strong>. Odpowiada on również m.in. za obsługę serwera takich "molochów" w branży jak <strong>Netflix</strong> czy <strong>Paypal</strong>. Musisz przyznać, że to robi wrażenie :)</p>
<p>W tym module zaczniemy naszą znajomość z Node.js, tworząc kilka rozwiązań uruchamianych (głównie) na naszym komputerze. Dzięki temu zobaczysz, jak przydatny może być JS, zarówno w tworzeniu rozwiązań desktopowych, jak i tworzeniu narzędzi pomocnych w procesie tworzenia projektów. Będzie to dobry wstęp, który pozwoli nam – w kolejnych modułach – skupić się na rozwiązaniach stricte backendowych.</p>
<p>To wszystko może brzmieć nieco onieśmielająco, ale pamiętaj, że to nadal jest JavaScript! Będziemy w nim po prostu korzystać z nowych bibliotek, które otworzą przed nami nowe możliwości, ale w większości będziemy po prostu dalej rozwijać nasze umiejętności w zakresie pisania JS-a – w czym mamy już trochę wprawy.</p>
<h3 id="261-czym-jest-nodejs-instalacja-nodejs">Instalacja Node.js</h3>
<p>To chyba najłatwiejsza część niniejszego modułu. Nie musisz niczego instalować, bo masz to już za sobą. Udało Ci się tego dokonać na etapie poznawania NPM-a. Aby go używać, musieliśmy najpierw zainstalować Node.js. Warto bowiem wiedzieć, że NPM to narzędzie w zamyśle stworzone specjalnie pod Node'a. Bez niego nie jest w stanie funkcjonować. Widać to zresztą nawet w samej nazwie NPM-a, która jest skrótem od <em>Node Package Manager</em>.</p>
<p>Co więcej, samego Node'a używaliśmy również w praktyce, m.in. w naszym task runnerze. Robiliśmy to zawsze wtedy, kiedy konieczna była np. praca na plikach. Przykładem mogą być paczki <code>autoprefixer</code> czy <code>node-sass</code>, które pod maską używały właśnie Node'a, aby modyfikować arkusze stylów. W dodatku, <code>json-server</code>, który służył nam za serwer i API, również zalicza się do tej kategorii. O ile więc nie używaliśmy jeszcze Node.js bezpośrednio, to tak naprawdę nasze aplikacje już czerpały z jego możliwości.</p>
<p>Jeśli nie masz pewności, czy Node.js jest zainstalowany na komputerze, z którego korzystasz w tej chwili, możesz użyć poniższej komendy:</p>
<pre class=" language-markup"><code class=" language-markup">node -v</code></pre>
<p>Powinna ona nie tylko poinformować Cię, czy Node.js jest zainstalowany na Twoim komputerze, ale również wskazać Ci aktualnie używaną wersję. W niniejszym module będziemy pracować na stabilnej wersji (tzw. <em>LTS – Long Term Support</em>) <code>14.16.0</code>. Jeśli Twoja wersja jest starsza, warto ją w tym momencie zaktualizować.</p>
<h3 id="261-czym-jest-nodejs-pierwsze-starcie">Pierwsze starcie</h3>
<p>Czas w końcu wykorzystać Node'a w praktyce. Wiemy już, jakie są jego zalety i że jest zainstalowany na naszym komputerze. Napiszmy więc pierwszą aplikację, którą uruchomimy poza środowiskiem przeglądarki!</p>
<p>Zacznij od stworzenia katalogu projektu, a w nim jednego pliku – <code>index.js</code>.</p>
<p>Sam plik może być bardzo prosty. Jako zawartość wpisz instrukcję pokazującą w konsoli klasyczne <code>Hello world!</code>.</p>
<pre class=" language-js"><code class=" language-js"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'Hello world!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Teraz czas na wykorzystanie Node'a! Jak widzisz, w naszym folderze, nie ma żadnego innego pliku. Node.js potrafi uruchomić pliki JS bezpośrednio. Wystarczy, że otworzysz konsolę i wpiszesz komendę <code>node nazwapliku</code>, a więc w naszym przypadku:</p>
<pre class=" language-js"><code class=" language-js">node index<span class="token punctuation">.</span><span class="token property-access">js</span></code></pre>
<p>Po wykonaniu tej komendy, w konsoli powinien pokazać się następujący komunikat:</p>
<pre class=" language-markup"><code class=" language-markup">Hello world!</code></pre>
<p>Brawo! Właśnie udało Ci się napisać i uruchomić pierwszą aplikację JS-ową poza przeglądarką!</p>

                        </div>
                    </div>
                                        <div class="card-block submodule-footer clearfix  completed ">
                                                <small>Jeśli masz wątpliwości do powyższego materiału, to - zanim zatwierdzisz - zapytaj na czacie :)</small>
                                                <div class="clearfix">
                                                                                <button class="btn  btn-primary "><i class="fa fa-check"></i><span>Zapoznałe(a)m się!</span></button>
                                                                                                    </div>
                    </div>
                </section>
                                    
                <section id="submodule-1108" class="card submodule completed" data-bootcamp-user-submodule-id="658345">
                <!-- klasy dla section: completed current comments -->
                    <div class="card-block submodule-header clearfix">
                        <i class="fa fa-check-circle-o fa-2x"></i>
                        <i class="fa fa-play-circle-o fa-2x"></i>
                        <i class="fa fa-exclamation-circle fa-2x"></i>
                        <i class="fa fa-send-o fa-2x"></i>
                        <h2 class="bootcamp-submodule-name">26.2. <span>Nowe możliwości</span></h2>
                                            </div>
                    <div class="card-block">
                        <div class="submodule-content">
                            <p>Fakt, że możemy uruchamiać aplikacje JS-owe bez pomocy przeglądarki, jest na pewno pozytywny, ale Node.js daje nam mnóstwo innych możliwości. Teraz postaramy się wykorzystać je w praktyce.</p>
<h3 id="262-nowe-mozliwosci-pierwsza-aplikacja">Pierwsza aplikacja</h3>
<p>Node.js pozwala obsługiwać system plików, daje dostęp do informacji o systemie i moduł do tworzenia serwerów.</p>
<p>Jako przykładową aplikację zbudujemy mały program, którego zadaniem będzie pokazywanie informacji o systemie – jego platformie, architekturze i samym użytkowniku. Zaczniemy skromnie, ale będzie to nasz pierwszy skrypt, który faktycznie wykorzystuje możliwości niedostępne przy kompilacji przez przeglądarkę.</p>
<p>Zacznij od stworzenia katalogu projektu. Następnie utwórz w nim nowy plik – <code>app.js</code> (nazwa oczywiście może być dowolna).</p>
<p>Następnie otwórz ten plik i rozpocznij od wpisania następującej instrukcji:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> os <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'os'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>W tym momencie musimy się jednak zatrzymać. O co chodzi? Co to za <code>require</code> i po co w ogóle ta linijka?</p>
<p>Kompilator Node.js w zamyśle wspiera wszystkie standardowe komendy JS-owe. Niemniej jednak te, które są dostarczane jako "dodatkowe", jak właśnie moduł <code>os</code> z informacjami o systemie, nie są dostępne domyślnie. Powód jest prosty – nie w każdym projekcie będą przecież potrzebne. Na przykład w aplikacji z pierwszego submodułu, ładowanie informacji o systemie, albo funkcji do obsługi plików, byłoby zbędne. Musimy zatem wskazać, że dany moduł jest wymagany i dopiero wtedy będziemy mogli z niego korzystać. Zatem <code>require</code> możesz odczytywać jako zwykły <code>import</code>. Zapis jest trochę inny, ale koncept dokładnie taki sam – chcemy załadować jakiś moduł, jakąś funkcjonalność z zewnątrz, do naszego skryptu.</p>
<p>Powyższą instrukcję traktujmy więc po prostu jak rozkaz: załaduj moduł <code>os</code> jako stałą <code>os</code>.</p>
<h3 id="262-nowe-mozliwosci-require-vs-import">require vs import</h3>
<p>Wiemy, że sam koncept <strong>CommonJS</strong> (tak nazywa się system formatowania z <code>require</code>) jest bardzo podobny do <code>import</code>, które już pojawiło się w kursie. Zapis jest jednak trochę inny. Warto więc nieco o tym opowiedzieć.</p>
<p>Eksportowanie całych modułów wygląda następująco:</p>
<pre class=" language-js"><code class=" language-js">module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'TestModule'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>vs</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'TestModule'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Główną różnicą jest przede wszystkim potrzeba dodawania znaku równości, co możemy odczytywać jako przypisywanie modułu do obiektu "eksportu", który potem w innym miejscu jest importowany. Reszta jest bardzo podobna.</p>
<p>Import, jak widzieliśmy już wcześniej, też działa w obu przypadkach na podobnych zasadach.</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> module <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./module'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>vs</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword module">import</span> <span class="token imports">module</span> <span class="token keyword module">from</span> <span class="token string">'./module'</span><span class="token punctuation">;</span></code></pre>
<p>Eksportowanie pojedynczych funkcjonalności, które znamy z <code>import ... export</code>, również jest możliwe w <code>require</code>.</p>
<pre class=" language-js"><code class=" language-js">exports<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">helloWorld</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token spread operator">...</span>
<span class="token punctuation">}</span>

exports<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">test</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token spread operator">...</span>
<span class="token punctuation">}</span></code></pre>
<p>A samo ich importowanie wręcz identyczne:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> helloWorld<span class="token punctuation">,</span> test <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./module'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Jak widzisz, sam pomysł modułów, ich importowanie i eksportowanie bardzo przypomina nam to, co znamy już z <code>import ... export</code>. Nic w tym dziwnego. W końcu twórcy jednego i drugiego rozwiązania chcieli, w gruncie rzeczy, osiągnąć ten sam efekt – możliwość podziału kod na łatwe do importowania części.</p>
<p>Jeśli czujesz, że powyższe krótkie wprowadzenie to dla Ciebie za mało, zajrzyj do <a href="https://nodejs.org/api/modules.html" target="_blank">oficjalnej dokumentacji</a>.</p>
<div class="bc-note alert-info">
<h4 class="alert-heading text-center">Dlaczego o tym mówimy?</h4>
<p>Do niedawna funkcjonalność <code>import ... export</code> była jedynie w fazie eksperymentalnej, zatem istnieje duża szansa, że w swojej pracy natrafisz jeszcze na wykorzystanie <code>require</code> w starszych aplikacjach.</p>
<p>Warto więc wiedzieć jak ten koncept działa. Zwłaszcza że dzięki podobieństwu do poznanego już przez Ciebie <code>import ... export</code>, jest on stosunkowo łatwy do przyswojenia.</p>
</div>
<h3 id="262-nowe-mozliwosci-wracamy-do-pracy">Wracamy do pracy</h3>
<p>Skoro wiemy już, do czego potrzebna nam pierwsza linijka kodu, możemy wracać do pracy. Zacznijmy od sprawdzenia, co tak naprawdę znajduje się w module <code>os</code>.</p>
<p>Do pliku <code>app.js</code>, który wcześniej utworzyliśmy, dodaj kolejną linijkę – <code>console.log(os)</code>.</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> os <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'os'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>os<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Następnie skompiluj ten kod za pomocą Node'a (<code>node app.js</code>) i zobacz, co pojawi się w konsoli.</p>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Node1.png" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Node1.png" alt="image" style="width: auto; max-width: 50%;"></a>
<p>Jak widzisz, moduł <code>os</code> to bardzo duży obiekt. Co ciekawe jednak okazuje się, że same informacje o systemie nie są przechowywane jako zwykłe stringi lub liczby. Zauważ, że zamiast tego, moduł oferuje zestaw metod i to dopiero one będą zwracać nam odpowiednie informacje.</p>
<p>Skoro wiemy już, jak wygląda struktura tego modułu, możemy dostać się teraz do potrzebnych informacji.</p>
<p>Założyliśmy, że nasza aplikacja pokaże następujące dane: rodzaj platformy, rodzaj architektury i jakieś podstawowe informacje o użytkowniku. Jak możemy przypuszczać, pierwsza informacja powinna być zwracana prawdopodobnie przez metodę <code>platform()</code>, druga przez <code>arch()</code>, a dane o użytkowniku zapewne znajdują się w <code>userInfo()</code>.</p>
<p>Zaczniemy od pokazania tych dwóch pierwszych informacji:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> os <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'os'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'Platform: '</span><span class="token punctuation">,</span> os<span class="token punctuation">.</span><span class="token method function property-access">platform</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'Arch: '</span><span class="token punctuation">,</span> os<span class="token punctuation">.</span><span class="token method function property-access">arch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>W ramach treningu, dodanie kodu pokazującego informacje o użytkowniku (wystarczy jego login), pozostawimy już Tobie :)</p>
<h3 id="262-nowe-mozliwosci-podsumowanie">Podsumowanie</h3>
<p>Gotowe! Oczywiście Node.js oferuje więcej nowych możliwości, ale moduł <code>os</code> dość dobrze pokazuje, czego możemy się po nich wszystkich spodziewać. Jak widzisz, korzystanie z nich nie jest wcale kłopotliwe. Wciąż piszemy kod w JS, z tą różnicą, że nie potrzebujemy już pomocy przeglądarki do kompilacji i nic nie odgranicza nam tak mocno dostępu do systemu i komputera użytkownika.</p>

                        </div>
                    </div>
                                        <div class="card-block task-card">
                        <h3 id="262-nowe-mozliwosci-zadanie-generator-tozsamosci">Zadanie: <span class="task-title">generator tożsamości</span></h3>
                        <div class="task-content">
                            <p>Nasza pierwsza "poważna" aplikacja nie była jeszcze zbyt rozbudowana i raczej nie pochwalilibyśmy się nią w portfolio. Teraz zabierzemy się za coś ciekawszego.</p>
<p>Twoim zadaniem będzie zbudowanie aplikacji generującej tablicę 20 losowych tożsamości, a następnie zapisywanie jej do pliku <code>people.json</code>. Cała operacja powinna odbywać się od razu przy kompilacji aplikacji, a więc samo uruchomienie komendy <code>node app.js</code> powinno powodować natychmiastowe wygenerowanie pliku <code>people.json</code> z danymi.</p>
<p>Do tego, po zakończeniu pracy, konsola powinna pokazywać informację o sukcesie – "File has been successfully generated! Check people.json" albo o ewentualnej porażce – "Something went wrong".</p>
<p>Każda tożsamość powinna być generowana jako obiekt z następującymi atrybutami:</p>
<ul>
<li><code>gender</code> – płeć, losujemy z dwóch opcji <code>M</code> i <code>F</code>,</li>
<li><code>firstName</code> – imię, losujemy je z kilku możliwych. Przy czym warto przygotować sobie osobne tablice dla sytuacji wylosowania płci męskiej i żeńskiej,</li>
<li><code>lastName</code> – nazwisko, losujemy je z tablicy, w której znajduje się kilka przygotowanych,</li>
<li><code>age</code> – wiek, losujemy wartość od 18 do 78.</li>
</ul>
<p>Do wykonania zadania koniecznie będzie wykorzystanie kolejnego wbudowanego modułu <code>fs</code>. Służy on właśnie do pracy nad plikami i katalogami. Skorzystaj z niego w oparciu o <a href="https://nodejs.org/api/fs.html" target="_blank">oficjalną dokumentację</a>. Od razu podpowiemy jednak, że w poniższym zadaniu konieczne będzie wykorzystanie jednej metody – <code>writeFile</code>, która wygląda następująco:</p>
<pre class=" language-js"><code class=" language-js">fs<span class="token punctuation">.</span><span class="token method function property-access">writeFile</span><span class="token punctuation">(</span><span class="token string">'outputfile.txt'</span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword control-flow">throw</span> err<span class="token punctuation">;</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'The file has been saved!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Jak można zauważyć, ta metoda potrzebuje tak naprawdę tylko trzech parametrów. Pierwszy ustala, jak ma nazywać się plik, który chcemy utworzyć, drugi definiuje jego zawartość, a trzeci to funkcja <em>"callback"</em>, która uruchamia się po zakończeniu operacji. Przy czym, jeśli pojawi się błąd, ta funkcja będzie miała do niego dostęp pod argumentem <code>err</code>. W powyższym przykładzie sprawdzamy więc po prostu, czy nie doszło do błędu i dopiero, jeśli nie, informujemy użytkownika o sukcesie.</p>
<p>Jeśli uważasz, że tyle informacji Ci wystarczy, zbierz się do pracy. Gdyby jednak okazało się, że potrzebujesz dalszego naprowadzenia, przeczytaj jeszcze podrozdział "Aplikacja krok po kroku".</p>
<h4>Aplikacja krok po kroku</h4>
<p>Twoja aplikacja powinna wyglądać następująco:</p>
<ol>
<li>Zacznij od zaimportowania modułu <code>fs</code> (jako stałej <code>fs</code>) oraz od przygotowania tablic <code>genders</code>, <code>maleNames</code>, <code>femaleNames</code> i <code>lastNames</code>.</li>
<li>Następnie stwórz funkcję <code>randChoice()</code>, która powinna pobierać jeden argument <code>arr</code>. Jej zadaniem ma być zwrócenie losowego elementu z tablicy otrzymanej z <code>arr</code>. Możesz wykorzystać tu <code>Math.random()</code>.</li>
<li>Stwórz nową tablicę <code>people</code>. Na razie niech będzie pusta.</li>
<li>Przygotuj pętlę, która wykona się 20 razy.</li>
<li>Wewnątrz pętli napisz kod, którego zadaniem będzie utworzenie nowego obiektu, wylosowanie płci za pomocą <code>randChoice</code> i przypisanie jej jako atrybut <code>gender</code>. Następnie, w zależności od wylosowanej płci, wybierz za pomocą <code>randChoice</code> imię z odpowiedniej tablicy. Na końcu wylosuj w podobny sposób również nazwisko (już bez użycia <code>randChoice</code>, a za pomocą zwykłego <code>Math.random()</code>), oraz ustal wiek osoby. Taki gotowy obiekt (z atrybutami <code>gender</code>, <code>firstName</code>, <code>lastName</code> i <code>age</code>) powinien być dodany (<code>push</code>) do tablicy <code>people</code>.</li>
<li>Po pętli zajmij się skonwertowaniem tablicy do formatu JSON, a następnie zapisz te dane w pliku <code>people.json</code>.</li>
</ol>
<p>Jeśli po wykonaniu wszystkich kroków i uruchomieniu komendy kompilacji, wygenerował się plik <code>people.json</code> z losowymi tożsamościami, to znaczy, że wszystko działa poprawnie!</p>
<h4>Szukanie błędów</h4>
<p>Gdy aplikacja nie działa, Twoim pierwszym krokiem dotychczas było sprawdzenie przeglądarkowej konsoli. Właśnie tam otrzymywaliśmy komunikaty o błędach. Teraz takiej opcji nie mamy, bowiem nie używamy przeglądarki. Zamiast tego błędy będą się pokazywały bezpośrednio w konsoli, w której uruchomiliśmy aplikację. I właśnie tam, w przypadku problemów, będziemy ich szukać.</p>
<h4>Dla ambitnych</h4>
<p>Jeśli zadanie było dla Ciebie mało wymagające, to spróbuj rozwinąć aplikację o losowanie dodatkowych atrybutów – numeru telefonu oraz adresu email (np. zawsze w formacie <code>firstname.lastname@gmail.com</code>, czyli np. <code>john.doe@gmail.com</code> dla wylosowanego Johna Doe).</p>

                        </div>
                    </div>
                                        <div class="card-block submodule-footer clearfix  completed ">
                                                <div class="clearfix">
                                                                                <a href="https://kodilla.com/pl/bootcamp-task/407/658345" target="_blank" class="btn btn-info-outline">Podgląd zadania</a>
                            <form target="_blank" class="form-inline project-link-form">
                                <div class="form-group">
                                    <input type="text" name="link" class="form-control" value="https://github.com/skwiryt/random-names">
                                </div>
                                <button type="submit" class="btn  btn-primary ">Wyślij link <i class="fa fa-check"></i></button>
                            </form>
                                                                                                    </div>
                    </div>
                </section>
                                    
                <section id="submodule-1109" class="card submodule completed" data-bootcamp-user-submodule-id="658346">
                <!-- klasy dla section: completed current comments -->
                    <div class="card-block submodule-header clearfix">
                        <i class="fa fa-check-circle-o fa-2x"></i>
                        <i class="fa fa-play-circle-o fa-2x"></i>
                        <i class="fa fa-exclamation-circle fa-2x"></i>
                        <i class="fa fa-send-o fa-2x"></i>
                        <h2 class="bootcamp-submodule-name">26.3. <span>Zewnętrzne paczki</span></h2>
                                            </div>
                    <div class="card-block">
                        <div class="submodule-content">
                            <p>We wcześniejszym submodule korzystaliśmy z dwóch modułów wbudowanych w Node.js. Podczas kursu wielokrotnie wykorzystywaliśmy też różne paczki z zewnątrz. Czy w przypadku Node'a również jest to możliwe? Jak najbardziej! W końcu nawet sam NPM powstał właśnie w tym celu – aby ułatwić pobieranie zewnętrznych paczek/modułów do projektów node'owych.</p>
<p>W tym submodule postaramy się skorzystać z tej możliwości i aby było ciekawiej, zrobimy to nie "na sucho", lecz ponownie pisząc małą aplikację. Przy czym znów postaramy się zawrzeć w niej właśnie takie funkcjonalności, których przy kompilacji w przeglądarce nie bylibyśmy w stanie wykorzystać.</p>
<h3 id="263-zewnetrzne-paczki-co-zbudujemy">Co zbudujemy?</h3>
<p>Aplikacją, którą zajmiemy się w tym submodule będzie program dodający watermarki (znaki wodne) do zdjęć. Pomysł jest następujący:</p>
<ol>
<li>Gdy uruchomimy aplikację, spyta nas ona o ścieżkę do pliku, który ma zostać oznakowany watermarkiem.</li>
<li>Jeżeli taki plik istnieje, zostaniemy spytani o rodzaj watermarka – mamy do wyboru <code>text</code> albo <code>image</code> (watermark tekstowy albo obrazkowy – np. logo).</li>
<li>Następnie użytkownik musi jeszcze wpisać tekst znaku wodnego albo wskazać ścieżkę do pliku graficznego (jeśli wybrał opcję <code>image</code>).</li>
<li>Na końcu, aplikacja ma w założeniu tworzyć nowy plik graficzny, oparty na tym, który wskazano na starcie, ale już z dodanym watermarkiem i zapisać go do nowego pliku.</li>
</ol>
<p>Oczywiście nie będziemy musieli wszystkiego robić od zera. Wspomożemy się paczkami zewnętrznymi:</p>
<ul>
<li><strong>Jimp</strong> – to paczka do obsługi plików graficznych. Pozwala na wiele różnorakich operacji, takich jak zmiana rozmiaru obrazka, jego jakości, jasności, kolorów, oraz na dodawanie tekstu, a także łączenie obrazków.</li>
<li><strong>Inquirer</strong> – pozwala na łatwe zadawanie pytań w konsoli, co usprawni naszą komunikację z użytkownikiem.</li>
</ul>
<h3 id="263-zewnetrzne-paczki-zaczynamy">Zaczynamy!</h3>
<p>Zaczniemy od prostych rzeczy, a w kolejnych krokach będziemy rozbudowywać&nbsp;naszą aplikację tak, by osiągnąć na końcu pożądany efekt. Rozpoczniemy od przygotowania kluczowych funkcjonalności – funkcji <code>addTextWatermarkToImage</code>, służącej do dodawania watermarka tekstowego na obrazek, a także <code>addImageWatermarkToImage</code>, do dodawania watermarka obrazkowego (np. loga).</p>
<p>Zacznijmy od stworzenia nowego folderu projektu oraz wygenerowania <code>package.json</code>.</p>
<pre class=" language-markup"><code class=" language-markup">yarn init</code></pre>
<p>Następnie pobierzemy pierwszą paczkę:</p>
<pre class=" language-js"><code class=" language-js">yarn add jimp@<span class="token number">0.6</span><span class="token number">.4</span></code></pre>
<p>W kolejnym kroku stwórz plik <code>app.js</code>. Będzie to główny i jak na razie jedyny plik naszej aplikacji.</p>
<p>Następnie dodamy nasz pierwszy kod – funkcję <code>addTextWatermarkToImage</code>:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> <span class="token maybe-class-name">Jimp</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'jimp'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">addTextWatermarkToImage</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inputFile<span class="token punctuation">,</span> outputFile<span class="token punctuation">,</span> text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token method function property-access">read</span><span class="token punctuation">(</span>inputFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> font <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token method function property-access">loadFont</span><span class="token punctuation">(</span><span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token constant">FONT_SANS_32_BLACK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  image<span class="token punctuation">.</span><span class="token method function property-access">print</span><span class="token punctuation">(</span>font<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">await</span> image<span class="token punctuation">.</span><span class="token method function property-access">quality</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">writeAsync</span><span class="token punctuation">(</span>outputFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">addTextWatermarkToImage</span><span class="token punctuation">(</span><span class="token string">'./test.jpg'</span><span class="token punctuation">,</span> <span class="token string">'./test-with-watermark.jpg'</span><span class="token punctuation">,</span> <span class="token string">'Hello world'</span><span class="token punctuation">)</span></code></pre>
<p>Na ten moment, aplikacja po uruchomieniu powinna znaleźć w folderze projektu plik <code>test.jpg</code>, a następnie dokleić do niego tekst <code>Hello world</code> i zapisać nową wersję obrazka jako <code>test-with-watermark.jpg</code>. Jeśli chcesz przetestować, czy faktycznie tak się dzieje, dodaj do folderu projektu przykładową grafikę w formacie <code>.jpg</code> o nazwie <code>test.jpg</code>. Następnie uruchom komendę <code>node app.js</code>. Nowy plik powinien zostać wygenerowany jako <code>test-with-watermark.jpg</code>, a w jego lewym górnym rogu powinien znajdować się tekst <code>Hello world!</code>.</p>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Node2.jpg" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Node2.jpg" alt="image" style="width: auto; max-width: 50%;"></a>
<p>Zanim przejdziemy do omawiania kodu, musimy jeszcze ustalić jedną rzecz. <a href="https://www.npmjs.com/package/jimp" target="_blank">Dokumentacja Jimpa</a> informuje, że możemy wykorzystywać jego funkcjonalności w formie callbacków albo promise'ów. My wybierzemy tę drugą opcję, jednak aby poprawić czytelność kodu, zastosujemy do tego jeszcze <code>async ... await</code> (tak jak w powyższym przykładzie). Zwracamy na to uwagę, bowiem w przykładach z dokumentacji, nawet przy użyciu kilku funkcjonalności naraz, zastosowany został zwykły "chaining", co powoduje, że kod może być mało czytelny.</p>
<p>A teraz po kolei omówmy sobie, co już przygotowaliśmy.</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> <span class="token maybe-class-name">Jimp</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'jimp'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Powyższy kod nie wymaga wyjaśnień. Po prostu importujemy pobrany moduł do naszej aplikacji, podobnie jak robiliśmy to już wielokrotnie z <code>import</code>.</p>
<p>Wewnątrz funkcji <code>addTextWatermarkToImage</code> pojawia się jednak trochę więcej nowości wymagających wyjaśnień.</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token method function property-access">read</span><span class="token punctuation">(</span>inputFile<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Metoda <code>.read</code> modułu Jimp służy do ładowania plików graficznych. Jimp wspiera następujące formaty: jpeg, png, bmp, tiff, gif. Po załadowaniu i przypisaniu pliku do zmiennej (u nas jest nią <code>image</code>), mamy do niego dostęp w dalszej części kodu. <code>await</code> gwarantuje nam oczywiście, że kompilacja nie pójdzie do przodu, dopóki ten plik nie zostanie załadowany.</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> font <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token method function property-access">loadFont</span><span class="token punctuation">(</span><span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token constant">FONT_SANS_32_BLACK</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Aby napisać tekst, potrzebna będzie nam jakaś czcionka. Jimp zezwala na załadowanie własnych fontów, ale oferuje również dostęp do jednego podstawowego, bez potrzeby pobierania. Jest to Open Sans, dostępny wraz z samą paczką. <code>Jimp.FONT_SANS_32_BLACK</code> to konkretnie odwołanie do czcionki Open Sans o rozmiarze 32px i kolorze black (czarnym). Możemy wybrać jednak analogicznie inne rozmiary oraz inny kolor – biały. Dokładny opis jak korzystać z tej opcji znajdziesz w <a href="https://www.npmjs.com/package/jimp#writing-text" target="_blank">dokumentacji</a>.</p>
<p>Funkcja <code>loadFont</code> po prostu ładuje font i przypisuje go do zmiennej, aby dało się go potem wykorzystać przy próbie "pisania" tekstu na obrazku.</p>
<pre class=" language-js"><code class=" language-js">image<span class="token punctuation">.</span><span class="token method function property-access">print</span><span class="token punctuation">(</span>font<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>W tym miejscu już fizycznie dodajemy napis na obrazku. Pierwszy parametr metody <code>print</code> ustala, z jakiej czcionki skorzystamy, drugi i trzeci decydują o umiejscowieniu tekstu na obrazku w poziomie i pionie. Czwarty naturalnie decyduje już o samej treści tekstu.</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword control-flow">await</span> image<span class="token punctuation">.</span><span class="token method function property-access">quality</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">writeAsync</span><span class="token punctuation">(</span>outputFile<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Ostatnia linijka jest stosunkowo intuicyjna. Zapisujemy zmieniony obrazek jako nowy plik, a robimy to przy użyciu <code>writeAsync</code>. Dodatkowo użyta metoda <code>quality</code> pozwala na ustalenie jakości, w jakiej zapiszemy plik. W naszym przypadku nie chcemy "psuć" wyglądu obrazka, więc wybraliśmy maksymalnie wysoką jakość (100%). Gdybyśmy jednak budowali np. aplikację do kompresowania zdjęć, byłaby to bardzo przydatna opcja.</p>
<p>Przed nami jeszcze wiele pracy, ale mamy już&nbsp;podwaliny jednej z głównych funkcjonalności.</p>
<h3 id="263-zewnetrzne-paczki-rozwijamy-addtextwatermarktoimage">Rozwijamy <code>addTextWatermarkToImage</code></h3>
<p>Nasz <code>addTextWatermarkToImage</code> działa już całkiem sprawnie. Warto jednak minimalnie zmodyfikować kod. Na razie tekst pokazuje się w lewym górnym rogu ekranu. Przestawmy go na środek, tam, gdzie najczęściej widuje się watermarki.</p>
<p>Jak to możemy to zrobić, pokazuje sama dokumentacja. Wystarczy, że potraktujemy tekst jako obiekt z trzema parametrami:</p>
<pre class=" language-js"><code class=" language-js"><span class="token punctuation">{</span>
  text<span class="token operator">:</span> text<span class="token punctuation">,</span>
  alignmentX<span class="token operator">:</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token constant">HORIZONTAL_ALIGN_CENTER</span><span class="token punctuation">,</span>
  alignmentY<span class="token operator">:</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token constant">VERTICAL_ALIGN_MIDDLE</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre>
<p>Wciąż będziemy decydować jaki tekst pokażemy, ale przy okazji możemy również ustalić, jakie powinno być jego wyrównanie.</p>
<p>Powyższe atrybuty powinny ustawić tekst na środku i to w poziomie, jak i w pionie. W samej dokumentacji są pokazane także opcje, które pozwalają wyrównywać tekst do góry, do dołu itd.</p>
<p>Żeby jednak działanie tej opcji było możliwe, musimy jeszcze poinformować Jimpa o szerokości i wysokości obrazka. Jest to możliwe przy użyciu czwartego i piątego parametru metody <code>print</code>. Z racji tego, że nie wiemy jaki obrazek i o jakim rozmiarze użytkownik będzie chciał "oznakować", nie możemy podać sztywnych wartości, lecz musimy ustalić po prostu fizyczny rozmiar obrazka. Pomogą nam w tym dwie wbudowane w Jimpa funkcje: <code>getWidth</code> i <code>getHeight</code>.</p>
<p>Po zmianach użycie metody <code>print</code> powinno wyglądać tak:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> textData <span class="token operator">=</span> <span class="token punctuation">{</span>
  text<span class="token punctuation">,</span>
  alignmentX<span class="token operator">:</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token constant">HORIZONTAL_ALIGN_CENTER</span><span class="token punctuation">,</span>
  alignmentY<span class="token operator">:</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token constant">VERTICAL_ALIGN_MIDDLE</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
image<span class="token punctuation">.</span><span class="token method function property-access">print</span><span class="token punctuation">(</span>font<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> textData<span class="token punctuation">,</span> image<span class="token punctuation">.</span><span class="token method function property-access">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> image<span class="token punctuation">.</span><span class="token method function property-access">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>A cała funkcja tak:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> <span class="token function-variable function">addTextWatermarkToImage</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inputFile<span class="token punctuation">,</span> outputFile<span class="token punctuation">,</span> text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token method function property-access">read</span><span class="token punctuation">(</span>inputFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> font <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token method function property-access">loadFont</span><span class="token punctuation">(</span><span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token constant">FONT_SANS_32_BLACK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> textData <span class="token operator">=</span> <span class="token punctuation">{</span>
    text<span class="token punctuation">,</span>
    alignmentX<span class="token operator">:</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token constant">HORIZONTAL_ALIGN_CENTER</span><span class="token punctuation">,</span>
    alignmentY<span class="token operator">:</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token constant">VERTICAL_ALIGN_MIDDLE</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  image<span class="token punctuation">.</span><span class="token method function property-access">print</span><span class="token punctuation">(</span>font<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> textData<span class="token punctuation">,</span> image<span class="token punctuation">.</span><span class="token method function property-access">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> image<span class="token punctuation">.</span><span class="token method function property-access">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">await</span> image<span class="token punctuation">.</span><span class="token method function property-access">quality</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">writeAsync</span><span class="token punctuation">(</span>outputFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Od tej chwili watermark tekstowy będzie zawsze pojawiał się na środku obrazka.</p>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Node3.jpg" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Node3.jpg" alt="image" style="width: auto; max-width: 50%;"></a>
<h3 id="263-zewnetrzne-paczki-watermark-obrazkowy">Watermark obrazkowy</h3>
<p>Nasza aplikacja powinna pozwalać również na dodawanie watermarka w formie obrazka. Zajmiemy się tym właśnie teraz!</p>
<p>Dopisz do <code>app.js</code> kolejną część kodu:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> <span class="token function-variable function">addImageWatermarkToImage</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inputFile<span class="token punctuation">,</span> outputFile<span class="token punctuation">,</span> watermarkFile</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token method function property-access">read</span><span class="token punctuation">(</span>inputFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> watermark <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token method function property-access">read</span><span class="token punctuation">(</span>watermarkFile<span class="token punctuation">)</span><span class="token punctuation">;</span>

  image<span class="token punctuation">.</span><span class="token method function property-access">composite</span><span class="token punctuation">(</span>watermark<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    mode<span class="token operator">:</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token constant">BLEND_SOURCE_OVER</span><span class="token punctuation">,</span>
    opacitySource<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">await</span> image<span class="token punctuation">.</span><span class="token method function property-access">quality</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">writeAsync</span><span class="token punctuation">(</span>outputFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">addImageWatermarkToImage</span><span class="token punctuation">(</span><span class="token string">'./test.jpg'</span><span class="token punctuation">,</span> <span class="token string">'./test-with-watermark2.jpg'</span><span class="token punctuation">,</span> <span class="token string">'./logo.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Sama funkcja, podobnie jak pierwsza, przyjmuje trzy parametry. Z tą różnicą, że teraz jako trzeci będzie otrzymywać ścieżkę do pliku znaku wodnego.</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token method function property-access">read</span><span class="token punctuation">(</span>inputFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> watermark <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token method function property-access">read</span><span class="token punctuation">(</span>watermarkFile<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Początek jest dość oczywisty. Ładujemy obrazek źródłowy oraz grafikę znaku wodnego.</p>
<p>Nas interesuje przede wszystkim poniższa część:</p>
<pre class=" language-js"><code class=" language-js">image<span class="token punctuation">.</span><span class="token method function property-access">composite</span><span class="token punctuation">(</span>watermark<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  mode<span class="token operator">:</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token constant">BLEND_SOURCE_OVER</span><span class="token punctuation">,</span>
  opacitySource<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Metoda <code>composite</code> służy do łączenia dwóch obrazków ze sobą. Przykleja ona do pliku wejściowego nowy obrazek. To właśnie coś, czego potrzebowaliśmy. Przy czym, z pomocą opcji <code>mode</code>, można wybrać, w jaki sposób to połączenie zostanie przeprowadzone. Czy obrazek źródłowy powinien być na wierzchu? A może na odwrót? U nas oczywiście wybraliśmy opcję pokazywania drugiego obrazka (naszego watermarka) na wierzchu – nad obrazkiem źródłowym.</p>
<p>Oprócz tego ustawiamy w niej również pozycję, jaką nowy obrazek ma przyjąć na grafice źródłowej (u nas to 0 w poziomie i 0 w pionie). Do tego dodaliśmy również opcję <code>opacitySource</code>, która powoduje, że nasz watermark jest lekko przezroczysty. To dość standardowy pomysł w przypadku znaków wodnych.</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword control-flow">await</span> image<span class="token punctuation">.</span><span class="token method function property-access">quality</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">writeAsync</span><span class="token punctuation">(</span>outputFile<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Powyższa część kodu nie jest już dla Ciebie nowością.</p>
<p>Aby przetestować działanie nowej funkcji, dodaj do swojego katalogu nowy plik (<code>logo.png</code>). Jeśli nie chcesz tracić czasu na szukanie czegoś pasującego, możesz do testów <a href="https://uploads.kodilla.com/bootcamp/wdp/26.node-js/logo.png" target="_blank">pobrać logo Kodilli</a> i właśnie jego użyć.</p>
<p>Aplikacja po uruchomieniu powinna generować teraz dwa pliki <code>./test-with-watermark.jpg</code> oraz <code>./test-with-watermark2.jpg</code>. Nas interesuje ten drugi, w którym powinniśmy zobaczyć nasz watermark graficzny.</p>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Node4.jpg" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Node4.jpg" alt="image" style="width: auto; max-width: 50%;"></a>
<h4>Wyrównujemy logo do środka</h4>
<p>Podobnie jak przy watermarku tekstowym, tutaj również dobrze byłoby wyrównać tekst do środka. Niestety tym razem nie mamy możliwości użycia gotowych ustawień. Zamiast tego musimy sami wyliczyć, jaka pozycja w poziomie i pionie, da nam pożądane umiejscowienie.</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> x <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token method function property-access">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> watermark<span class="token punctuation">.</span><span class="token method function property-access">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> y <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token method function property-access">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> watermark<span class="token punctuation">.</span><span class="token method function property-access">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span></code></pre>
<p>Pomysł jest dość prosty. Szukamy środka głównego obrazka, a potem jeszcze odejmujemy od znalezionych wartości połowę rozmiaru watermarka. Jest to pomysł identyczny z używanym przez nas na początku kursu, jeszcze w CSS, czyli <code>position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%)</code>.</p>
<p>Ostatecznie nasza funkcja powinna wyglądać następująco:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> <span class="token function-variable function">addImageWatermarkToImage</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inputFile<span class="token punctuation">,</span> outputFile<span class="token punctuation">,</span> watermarkFile</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token method function property-access">read</span><span class="token punctuation">(</span>inputFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> watermark <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token method function property-access">read</span><span class="token punctuation">(</span>watermarkFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> x <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token method function property-access">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> watermark<span class="token punctuation">.</span><span class="token method function property-access">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> y <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token method function property-access">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> watermark<span class="token punctuation">.</span><span class="token method function property-access">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>

  image<span class="token punctuation">.</span><span class="token method function property-access">composite</span><span class="token punctuation">(</span>watermark<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    mode<span class="token operator">:</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token constant">BLEND_SOURCE_OVER</span><span class="token punctuation">,</span>
    opacitySource<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">await</span> image<span class="token punctuation">.</span><span class="token method function property-access">quality</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">writeAsync</span><span class="token punctuation">(</span>outputFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Efektem powyższych zmian, będzie pozycjonowanie watermarka graficznego zawsze pośrodku obrazka bazowego.</p>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Node5.jpg" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Node5.jpg" alt="image" style="width: auto; max-width: 50%;"></a>
<p>Brawo! Nasze dwie główne funkcjonalności są już gotowe!</p>
<h3 id="263-zewnetrzne-paczki-komunikacja-z-uzytkownikiem">Komunikacja z użytkownikiem</h3>
<p>Mamy już dwie funkcje, które są kluczowe dla naszej aplikacji. Na razie uruchamiają się one jednak zawsze z tymi samymi sztywnymi danymi. Zamysł był inny. To użytkownik powinien decydować, na jakim pliku pracujemy, oraz jak ma wyglądać nasz watermark. Tym, a więc komunikacją z użytkownikiem, zajmiemy się właśnie teraz.</p>
<h4>Gdzie jest <code>prompt</code>?</h4>
<p>Od razu jednak pojawia się pewien problem. Oczywiście, radziliśmy już sobie z komunikacją z użytkownikiem bez użycia HTML-a. Było to na początku kursu, kiedy dopiero poznawaliśmy podstawy tego języka. Do "pytania" użytkownika wykorzystywaliśmy metodę <code>prompt</code>, dostępną w przeglądarkowym obiekcie <code>window</code>. Problem w przypadku Node'a jest jednak taki, że jeśli nie ma przeglądarki, to nie ma też obiektu <code>window</code>. Jeśli nie ma obiektu <code>window</code>, to naturalnie nie ma też metody <code>prompt</code>. W jakiś sposób Node.js musi jednak pozwalać nam na komunikację z użytkownikiem, prawda? W końcu to dość standardowa funkcjonalność.</p>
<h4>Obiekt <code>process</code></h4>
<p>I faktycznie, Node.js nie zostawia nas bez pomocy. Nie mamy tutaj obiektu <code>window</code> (w końcu nie ma tu żadnego okna), ale istnieje obiekt <code>process</code>. Zawiera on mnóstwo przydatnych funkcjonalności, z czego nas interesuje zwłaszcza jedna – możliwość komunikacji z użytkownikiem za pomocą strumieni wymiany danych (<code>stdin</code>, <code>stdout</code>, <code>stderr</code>).</p>
<div class="bc-note alert-info">
<h4 class="alert-heading text-center">Uwaga!</h4>
<p>Obiekt <strong><code>process</code> może być od razu używany w każdym pliku</strong>. Nie musimy tutaj niczego specjalnie importować.</p>
</div>
<p>Poniżej możesz zobaczyć przykład aplikacji zbudowanej z pomocą tej funkcjonalności:</p>
<pre class=" language-js"><code class=" language-js">process<span class="token punctuation">.</span><span class="token property-access">stdout</span><span class="token punctuation">.</span><span class="token method function property-access">write</span><span class="token punctuation">(</span><span class="token string">'Type "E" to exit, type "H" to say hello!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

process<span class="token punctuation">.</span><span class="token property-access">stdin</span><span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'readable'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>

  <span class="token keyword">const</span> input <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token property-access">stdin</span><span class="token punctuation">.</span><span class="token method function property-access">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> instruction <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>instruction <span class="token operator">===</span> <span class="token string">'E'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    process<span class="token punctuation">.</span><span class="token property-access">stdout</span><span class="token punctuation">.</span><span class="token method function property-access">write</span><span class="token punctuation">(</span><span class="token string">'Exiting app...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    process<span class="token punctuation">.</span><span class="token method function property-access">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">else</span> <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>instruction <span class="token operator">===</span> <span class="token string">'H'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    process<span class="token punctuation">.</span><span class="token property-access">stdout</span><span class="token punctuation">.</span><span class="token method function property-access">write</span><span class="token punctuation">(</span><span class="token string">'Hi! How are you?'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
    process<span class="token punctuation">.</span><span class="token property-access">stdout</span><span class="token punctuation">.</span><span class="token method function property-access">write</span><span class="token punctuation">(</span><span class="token string">'Wrong instruction!\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Omówmy sobie krótko ten kod.</p>
<pre class=" language-js"><code class=" language-js">process<span class="token punctuation">.</span><span class="token property-access">stdout</span><span class="token punctuation">.</span><span class="token method function property-access">write</span><span class="token punctuation">(</span><span class="token string">'Type "E" to exit, type "H" to say hello!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Funkcja <code>process.stdout.write</code> po prostu wypisuje tekst w konsoli. <code>console.log</code>, którego używaliśmy wcześniej, "pod maską" korzystało właśnie z niej.</p>
<pre class=" language-js"><code class=" language-js">process<span class="token punctuation">.</span><span class="token property-access">stdin</span><span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'readable'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span></code></pre>
<p>Powyższy kod ciągle nasłuchuje działań użytkownika. Kiedy wykryje, że coś wpisano i wciśnięto enter, uruchomi wybraną funkcję.</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> input <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token property-access">stdin</span><span class="token punctuation">.</span><span class="token method function property-access">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>W tym miejscu "dobieramy" się do tej wpisanej informacji za pomocą metody <code>read</code> na strumieniu wejścia.</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> instruction <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Dalej "trimujemy" jeszcze wpisaną wartość z niepotrzebnych znaków.</p>
<p>Reszta kodu powinna być dla Ciebie zrozumiała. Zależnie od wpisanej litery, wykonamy odpowiednią operację. Nowością jest jeszcze tylko <code>process.exit();</code>, ale pewnie udało Ci się już domyślić, że służy po prostu zakończeniu procesu. Działa tak samo, jak np. kombinacja <code>Ctrl+C</code> w Git Bashu.</p>
<p>Jak widzisz, mimo braku <code>prompt</code>, jesteśmy w stanie sobie poradzić. Powyższy kod nie wygląda jednak zbyt zachęcająco. Aby ułatwić sobie pracę, skorzystamy z kolejnej zewnętrznej paczki, o której była mowa na początku submodułu – <strong>Inquirer</strong>.</p>
<div class="bc-note alert-info">
<h4 class="alert-heading text-center">A co ze zmiennymi globalnymi?</h4>
<p>Powiedzieliśmy, że w Node.js nie istnieje obiekt <code>window</code> i z tego powodu nie mamy dostępu do metody <code>prompt</code>. Jednak <code>window</code> to więcej niż tylko jedna metoda. W takiej sytuacji pojawia się ważne pytanie. Wiemy, że gdy dodajemy w kodzie JS zmienne globalne, są one przypisywane właśnie do obiektu <code>window</code>. Zatem jak to wygląda w Node.js?</p>
<p>Podobnie jak z <code>process</code>, tu też istnieje specjalny obiekt – o nazwie... <code>global</code>. Oczywiście, dostępny w każdym pliku.</p>
</div>
<h4>Wprowadzamy Inquirera</h4>
<p>Zacznijmy od zainstalowanie tej paczki:</p>
<pre class=" language-js"><code class=" language-js">yarn add inquirer@<span class="token number">6.5</span><span class="token number">.0</span></code></pre>
<p>Następnie, aby ją użyć, musimy dokonać importu w naszym <code>app.js</code>.</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> inquirer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'inquirer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Jak używa się tej paczki? Stosunkowo prosto, chociaż na początku mnogość możliwości, którą otrzymujemy, może być przytłaczająca.</p>
<p>Spójrz na pierwszy przykład z dokumentacji:</p>
<pre class=" language-js"><code class=" language-js">inquirer
  <span class="token punctuation">.</span><span class="token method function property-access">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token comment">/* Pass your questions in here */</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token parameter">answers</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// Use user feedback for... whatever!!</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Oraz na przykładowe wykorzystanie w praktyce:</p>
<pre class=" language-js"><code class=" language-js">inquirer<span class="token punctuation">.</span><span class="token method function property-access">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span>
  type<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
  message<span class="token operator">:</span> <span class="token string">'What\'s your name?'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'age'</span><span class="token punctuation">,</span>
  type<span class="token operator">:</span> <span class="token string">'number'</span><span class="token punctuation">,</span>
  message<span class="token operator">:</span> <span class="token string">'How old are you?'</span><span class="token punctuation">,</span>
  <span class="token keyword module">default</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">answers</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\nHi </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>answers<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">. </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>answers<span class="token punctuation">.</span><span class="token property-access">age</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">? Nice! \n</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Prawdopodobnie jesteś w stanie domyślić się, jak działa powyższy kod. W tym przykładzie aplikacja zapyta użytkownika o imię i wiek, a następnie wypisze komunikat tekstowy. Tablica w <code>prompt</code> to po prostu "lista pytań", a funkcja w <code>.then</code> (mamy tu zwykły promise) odpowiada za to, co ma się stać, gdy użytkownik już na nie odpowie.</p>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Node6.png" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Node6.png" alt="image" style="width: auto;"></a>
<p>Jeśli było Ci dane widzieć już kiedyś aplikacje CLI zbudowane w podobny sposób, pytające użytkownika o jakieś dane – bardzo możliwe, że korzystały one właśnie z Inquirera.</p>
<p>Warto wiedzieć, że oprócz takich prostych typów pytań jak <code>input</code> czy <code>number</code>, istnieje również wiele innych, np. <code>list</code>, która pozwala w łatwy sposób wybrać jedną z kilku opcji. Inquirer to potężna paczka, a my będziemy w niniejszej aplikacji korzystali tylko z części z nich. Niemniej jednak nie ma się czego obawiać. Paczka cechuje się też bardzo udaną dokumentacją.</p>
<h4>Bierzemy się do pracy</h4>
<p>Zacznijmy od ponownego przypomnienia, jak miała działać nasza aplikacja. Powinniśmy pytać użytkownika o kilka rzeczy:</p>
<ol>
<li><strong>Plik wejściowy</strong> – ścieżka do pliku, na którym chcemy pracować.</li>
<li><strong>Rodzaj watermarka</strong> – do wyboru tekstowy albo obrazkowy (np. logo).</li>
<li><strong>Ścieżka do znaku wodnego lub tekst</strong> – zależnie od wyboru rodzaju watermarka.</li>
</ol>
<div class="bc-note alert-warning">
<h4 class="alert-heading text-center">Uwaga!</h4>
<p>W tym miejscu ustalmy też sobie jeszcze jedną rzecz – <strong>aplikacja będzie wymagać, aby wszystkie zdjęcia znajdowały się już w folderze naszej aplikacji</strong>, a dokładnie, aby były przechowywane w folderze <code>img</code>. To ułatwienie dla nas. Użytkownicy mogliby mieć ogromny problem z podaniem dobrych ścieżek do plików z odległych katalogów.</p>
</div>
<p>Przejdźmy już teraz do komunikacji z użytkownikiem. Zacznijmy od dwóch pierwszych pytań. Dopiero po nich będziemy w stanie stwierdzić, o co trzeba spytać później – o tekst, czy może o ścieżkę do pliku graficznego znaku wodnego.</p>
<p>Usuń wywołania funkcji <code>addImageWatermarkToImage</code> oraz <code>addTextWatermarkToImage</code> (nie musimy już ich uruchamiać od razu, na sztywno), a następnie dodaj nową funkcję – <code>startApp</code>, którą będziemy uruchamiać na samym starcie.</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> <span class="token function-variable function">startApp</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>

  <span class="token comment">// Ask if user is ready</span>
  <span class="token keyword">const</span> answer <span class="token operator">=</span> <span class="token keyword control-flow">await</span> inquirer<span class="token punctuation">.</span><span class="token method function property-access">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'start'</span><span class="token punctuation">,</span>
      message<span class="token operator">:</span> <span class="token string">'Hi! Welcome to "Watermark manager". Copy your image files to `/img` folder. Then you\'ll be able to use them in the app. Are you ready?'</span><span class="token punctuation">,</span>
      type<span class="token operator">:</span> <span class="token string">'confirm'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// if answer is no, just quit the app</span>
  <span class="token keyword control-flow">if</span><span class="token punctuation">(</span><span class="token operator">!</span>answer<span class="token punctuation">.</span><span class="token property-access">start</span><span class="token punctuation">)</span> process<span class="token punctuation">.</span><span class="token method function property-access">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// ask about input file and watermark type</span>
  <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token keyword control-flow">await</span> inquirer<span class="token punctuation">.</span><span class="token method function property-access">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'inputImage'</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
    message<span class="token operator">:</span> <span class="token string">'What file do you want to mark?'</span><span class="token punctuation">,</span>
    <span class="token keyword module">default</span><span class="token operator">:</span> <span class="token string">'test.jpg'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'watermarkType'</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">'list'</span><span class="token punctuation">,</span>
    choices<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Text watermark'</span><span class="token punctuation">,</span> <span class="token string">'Image watermark'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token function">startApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Czy jest tu coś nowego? Użyliśmy przede wszystkim dwóch nowych typów pytań – <code>list</code> i <code>confirm</code>. Pierwszy każe użytkownikowi wybierać z listy kilku wyborów (u nas dwóch), a drugi służy do potwierdzania (tak czy nie?).</p>
<p>Dodatkiem jest też na pewno zastosowanie <code>async ... await</code>. Z racji tego, że w naszym kodzie kilka razy będziemy zadawać kolejne pytania dopiero po wykonaniu jakichś operacji, będzie to spore ułatwienie. Inaczej skończylibyśmy z mało czytelnym kodem, w którym jedna funkcja z <code>.then</code> uruchamiałby kolejny promise z nowym <code>.then</code>, a ta ponownie odpalałby promise z jeszcze jednym <code>.then</code>...</p>
<div class="bc-note alert-info">
<h4 class="alert-heading text-center">Uwaga!</h4>
<p>Inquirer zawsze zwraca jako odpowiedź obiekt z atrybutami, nawet jeśli zadajemy tylko jedno pytanie.</p>
<p>Dlatego też w poniższym kodzie...</p>
<pre class=" language-js"><code class=" language-js"><span class="token comment">// Ask if user is ready</span>
<span class="token keyword">const</span> answer <span class="token operator">=</span> <span class="token keyword control-flow">await</span> inquirer<span class="token punctuation">.</span><span class="token method function property-access">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'start'</span><span class="token punctuation">,</span>
    message<span class="token operator">:</span> <span class="token string">'Hi! Welcome to "Watermark manager". Copy your image files to `/img` folder. Then you\'ll be able to use them in the app. Are you ready?'</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">'confirm'</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// if answer is no, just quit the app</span>
<span class="token keyword control-flow">if</span><span class="token punctuation">(</span><span class="token operator">!</span>answer<span class="token punctuation">.</span><span class="token property-access">start</span><span class="token punctuation">)</span> process<span class="token punctuation">.</span><span class="token method function property-access">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>...mimo zadania tylko jednego pytania i tak musieliśmy odwoływać się do jego odpowiedzi za pomocą klucza (atrybutu <code>name</code> pytania), w następujący sposób – <code>answer.start</code>.</p>
<p>Podobnie postępujemy również w przypadku pytań w dalszej części aplikacji.</p>
</div>
<p>Powyższy kod po uruchomieniu powinien zapytać użytkownika, czy chce rozpocząć cały proces. Jeśli wybierze opcję "nie", to aplikacja po prostu się wyłączy. Jeśli jednak wybierze "tak", zostanie zapytany o nazwę pliku bazowego, oraz o typ watermarka, którego chce użyć.</p>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Node7.png" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Node7.png" alt="image" style="width: auto;"></a>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Node8.png" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Node8.png" alt="image" style="width: auto;"></a>
<p>Teraz, zależnie od typu, musimy zapytać użytkownika o tekst znaku wodnego, albo o ścieżkę do pliku graficznego.</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword control-flow">if</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span><span class="token property-access">watermarkType</span> <span class="token operator">===</span> <span class="token string">'Text watermark'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token keyword control-flow">await</span> inquirer<span class="token punctuation">.</span><span class="token method function property-access">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
    message<span class="token operator">:</span> <span class="token string">'Type your watermark text:'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  options<span class="token punctuation">.</span><span class="token property-access">watermarkText</span> <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword control-flow">await</span> inquirer<span class="token punctuation">.</span><span class="token method function property-access">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'filename'</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
    message<span class="token operator">:</span> <span class="token string">'Type your watermark name:'</span><span class="token punctuation">,</span>
    <span class="token keyword module">default</span><span class="token operator">:</span> <span class="token string">'logo.png'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  options<span class="token punctuation">.</span><span class="token property-access">watermarkImage</span> <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token property-access">filename</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Jak widzisz, znowu – mimo tego, że pytamy tylko o jedną rzecz, to i tak dostajemy obiekt. Aby dojść więc do samej wartości, musimy jeszcze wybrać odpowiedni atrybut (u nas to <code>text.value</code>, lub <code>image.filename</code>).</p>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Node9.png" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Node9.png" alt="image" style="width: auto;"></a>
<p>Pozostała nam już tylko jedna rzecz – dodać na końcu uruchomianie funkcji <code>addImageWatermarkToImage</code> albo <code>addTextWatermarkToImage</code>.</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword control-flow">if</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span><span class="token property-access">watermarkType</span> <span class="token operator">===</span> <span class="token string">'Text watermark'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token keyword control-flow">await</span> inquirer<span class="token punctuation">.</span><span class="token method function property-access">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
     name<span class="token operator">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span>
     type<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
     message<span class="token operator">:</span> <span class="token string">'Type your watermark text:'</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   options<span class="token punctuation">.</span><span class="token property-access">watermarkText</span> <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
   <span class="token function">addTextWatermarkToImage</span><span class="token punctuation">(</span><span class="token string">'./img/'</span> <span class="token operator">+</span> options<span class="token punctuation">.</span><span class="token property-access">inputImage</span><span class="token punctuation">,</span> <span class="token string">'./test-with-watermark.jpg'</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span><span class="token property-access">watermarkText</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
   <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword control-flow">await</span> inquirer<span class="token punctuation">.</span><span class="token method function property-access">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
     name<span class="token operator">:</span> <span class="token string">'filename'</span><span class="token punctuation">,</span>
     type<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
     message<span class="token operator">:</span> <span class="token string">'Type your watermark name:'</span><span class="token punctuation">,</span>
     <span class="token keyword module">default</span><span class="token operator">:</span> <span class="token string">'logo.png'</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   options<span class="token punctuation">.</span><span class="token property-access">watermarkImage</span> <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token property-access">filename</span><span class="token punctuation">;</span>
   <span class="token function">addImageWatermarkToImage</span><span class="token punctuation">(</span><span class="token string">'./img/'</span> <span class="token operator">+</span> options<span class="token punctuation">.</span><span class="token property-access">inputImage</span><span class="token punctuation">,</span> <span class="token string">'./test-with-watermark.jpg'</span><span class="token punctuation">,</span> <span class="token string">'./img/'</span> <span class="token operator">+</span> options<span class="token punctuation">.</span><span class="token property-access">watermarkImage</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span></code></pre>
<p>Skąd <code>./img</code> przed ścieżką do pliku? Napisaliśmy w założeniach, że oczekujemy od użytkownika, iż umieści on obrazki do edycji w folderze <code>img</code>. Tymczasem zadając pytanie w formularzu, oczekujemy tylko na podanie samej nazwy pliku. Musimy więc zadbać o to, by ostatecznie szukać go w odpowiednim katalogu.</p>
<h3 id="263-zewnetrzne-paczki-nazwa-pliku-koncowego">Nazwa pliku końcowego</h3>
<p>Jest jeszcze jedna kwestia. W tej chwili nasz plik końcowy nazywa się zawsze tak samo – <code>./test-with-watermark.jpg</code>. Po pierwsze, lepiej, żeby nazwa opierała się na pliku źródłowym, a po drugie, nie możemy zakładać z góry, że rozszerzeniem pliku zawsze będzie akurat <code>.jpg</code>. Napiszemy więc teraz funkcję, która będzie zajmowała się przygotowaniem odpowiedniej nazwy pliku, a następnie wykorzystamy ją w aplikacji.</p>
<div class="bc-note alert-info">
<h4 class="alert-heading text-center">Ćwiczenie</h4>
<p>A może spróbujesz zrobić to bez naszej pomocy? ;) Funkcja powinna nazywać się <code>prepareOutputFilename</code> i przyjmować jeden parametr. W założeniu będzie to nazwa pliku wraz z rozszerzeniem, więc pisząc funkcję, załóż, że zawsze otrzymasz coś takiego – <code>test.png</code>, <code>abc.jpg</code>, a więc tekst w formacie <code>nazwa.rozszerzenie</code>.</p>
<p>Funkcja powinna wykorzystać metodę <code>split</code>, która rozdzieli tekst na dwie części. Następnie musisz dodać do pierwszej części końcówkę <code>-with-watermark</code>, a następnie znowu złączyć oba fragmenty w całość. Taki gotowy string powinien być przez funkcję zwrócony.</p>
<p>Przykładowe działanie:</p>
<pre class=" language-js"><code class=" language-js"><span class="token function">prepareOutputFilename</span><span class="token punctuation">(</span><span class="token string">'test.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//returns test-with-watermark.png</span>
<span class="token function">prepareOutputFilename</span><span class="token punctuation">(</span><span class="token string">'abc.jpg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//returns abc-with-watermark.jpg</span></code></pre>
<p>Jeśli nie czujesz się jednak na siłach, to poniżej znajduje się gotowa funkcja:</p>
<p class="text-center">
  <span class="collapse-toggles">
    <a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#collapse-fb6hGBujl-toggle" class="btn btn-primary collapsed" data-toggle="collapse">Pokaż rozwiązanie</a>
    <a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#collapse-fb6hGBujl-toggle" class="btn btn-primary collapsed" data-toggle="collapse">Ukryj rozwiązanie</a>
  </span>
</p>
<div id="collapse-fb6hGBujl-toggle" class="collapse">
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> <span class="token function-variable function">prepareOutputFilename</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">filename</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span> name<span class="token punctuation">,</span> ext <span class="token punctuation">]</span> <span class="token operator">=</span> filename<span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-with-watermark.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ext<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<p>Teraz wystarczy wykorzystać ją w naszej aplikacji:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword control-flow">if</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span><span class="token property-access">watermarkType</span> <span class="token operator">===</span> <span class="token string">'Text watermark'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token keyword control-flow">await</span> inquirer<span class="token punctuation">.</span><span class="token method function property-access">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
    message<span class="token operator">:</span> <span class="token string">'Type your watermark text:'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  options<span class="token punctuation">.</span><span class="token property-access">watermarkText</span> <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
  <span class="token function">addTextWatermarkToImage</span><span class="token punctuation">(</span><span class="token string">'./img/'</span> <span class="token operator">+</span> options<span class="token punctuation">.</span><span class="token property-access">inputImage</span><span class="token punctuation">,</span> <span class="token string">'./img/'</span> <span class="token operator">+</span> <span class="token function">prepareOutputFilename</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span><span class="token property-access">inputImage</span><span class="token punctuation">)</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span><span class="token property-access">watermarkText</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword control-flow">await</span> inquirer<span class="token punctuation">.</span><span class="token method function property-access">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'filename'</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
    message<span class="token operator">:</span> <span class="token string">'Type your watermark name:'</span><span class="token punctuation">,</span>
    <span class="token keyword module">default</span><span class="token operator">:</span> <span class="token string">'logo.png'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  options<span class="token punctuation">.</span><span class="token property-access">watermarkImage</span> <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token property-access">filename</span><span class="token punctuation">;</span>
  <span class="token function">addImageWatermarkToImage</span><span class="token punctuation">(</span><span class="token string">'./img/'</span> <span class="token operator">+</span> options<span class="token punctuation">.</span><span class="token property-access">inputImage</span><span class="token punctuation">,</span> <span class="token string">'./img/'</span> <span class="token operator">+</span> <span class="token function">prepareOutputFilename</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span><span class="token property-access">inputImage</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'./img/'</span> <span class="token operator">+</span> options<span class="token punctuation">.</span><span class="token property-access">watermarkImage</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 id="263-zewnetrzne-paczki-testujemy-aplikacje">Testujemy aplikację</h3>
<p>Ostatecznie nasza aplikacja powinna wyglądać następująco:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> <span class="token maybe-class-name">Jimp</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'jimp'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> inquirer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'inquirer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">addTextWatermarkToImage</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inputFile<span class="token punctuation">,</span> outputFile<span class="token punctuation">,</span> text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token method function property-access">read</span><span class="token punctuation">(</span>inputFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> font <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token method function property-access">loadFont</span><span class="token punctuation">(</span><span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token constant">FONT_SANS_32_BLACK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> textData <span class="token operator">=</span> <span class="token punctuation">{</span>
    text<span class="token operator">:</span> text<span class="token punctuation">,</span>
    alignmentX<span class="token operator">:</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token constant">HORIZONTAL_ALIGN_CENTER</span><span class="token punctuation">,</span>
    alignmentY<span class="token operator">:</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token constant">VERTICAL_ALIGN_MIDDLE</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  image<span class="token punctuation">.</span><span class="token method function property-access">print</span><span class="token punctuation">(</span>font<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> textData<span class="token punctuation">,</span> image<span class="token punctuation">.</span><span class="token method function property-access">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> image<span class="token punctuation">.</span><span class="token method function property-access">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">await</span> image<span class="token punctuation">.</span><span class="token method function property-access">quality</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">writeAsync</span><span class="token punctuation">(</span>outputFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">addImageWatermarkToImage</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">inputFile<span class="token punctuation">,</span> outputFile<span class="token punctuation">,</span> watermarkFile</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token method function property-access">read</span><span class="token punctuation">(</span>inputFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> watermark <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token method function property-access">read</span><span class="token punctuation">(</span>watermarkFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> x <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token method function property-access">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> watermark<span class="token punctuation">.</span><span class="token method function property-access">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> y <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token method function property-access">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> watermark<span class="token punctuation">.</span><span class="token method function property-access">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>

  image<span class="token punctuation">.</span><span class="token method function property-access">composite</span><span class="token punctuation">(</span>watermark<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    mode<span class="token operator">:</span> <span class="token maybe-class-name">Jimp</span><span class="token punctuation">.</span><span class="token constant">BLEND_SOURCE_OVER</span><span class="token punctuation">,</span>
    opacitySource<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">await</span> image<span class="token punctuation">.</span><span class="token method function property-access">quality</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">writeAsync</span><span class="token punctuation">(</span>outputFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">prepareOutputFilename</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">filename</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span> name<span class="token punctuation">,</span> ext <span class="token punctuation">]</span> <span class="token operator">=</span> filename<span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-with-watermark.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ext<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">startApp</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>

  <span class="token comment">// Ask if user is ready</span>
  <span class="token keyword">const</span> answer <span class="token operator">=</span> <span class="token keyword control-flow">await</span> inquirer<span class="token punctuation">.</span><span class="token method function property-access">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'start'</span><span class="token punctuation">,</span>
      message<span class="token operator">:</span> <span class="token string">'Hi! Welcome to "Watermark manager". Copy your image files to `/img` folder. Then you\'ll be able to use them in the app. Are you ready?'</span><span class="token punctuation">,</span>
      type<span class="token operator">:</span> <span class="token string">'confirm'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// if answer is no, just quit the app</span>
  <span class="token keyword control-flow">if</span><span class="token punctuation">(</span><span class="token operator">!</span>answer<span class="token punctuation">.</span><span class="token property-access">start</span><span class="token punctuation">)</span> process<span class="token punctuation">.</span><span class="token method function property-access">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// ask about input file and watermark type</span>
  <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token keyword control-flow">await</span> inquirer<span class="token punctuation">.</span><span class="token method function property-access">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'inputImage'</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
    message<span class="token operator">:</span> <span class="token string">'What file do you want to mark?'</span><span class="token punctuation">,</span>
    <span class="token keyword module">default</span><span class="token operator">:</span> <span class="token string">'test.jpg'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'watermarkType'</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">'list'</span><span class="token punctuation">,</span>
    choices<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Text watermark'</span><span class="token punctuation">,</span> <span class="token string">'Image watermark'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow">if</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span><span class="token property-access">watermarkType</span> <span class="token operator">===</span> <span class="token string">'Text watermark'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token keyword control-flow">await</span> inquirer<span class="token punctuation">.</span><span class="token method function property-access">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span>
      type<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
      message<span class="token operator">:</span> <span class="token string">'Type your watermark text:'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    options<span class="token punctuation">.</span><span class="token property-access">watermarkText</span> <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
    <span class="token function">addTextWatermarkToImage</span><span class="token punctuation">(</span><span class="token string">'./img/'</span> <span class="token operator">+</span> options<span class="token punctuation">.</span><span class="token property-access">inputImage</span><span class="token punctuation">,</span> <span class="token string">'./img/'</span> <span class="token operator">+</span> <span class="token function">prepareOutputFilename</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span><span class="token property-access">inputImage</span><span class="token punctuation">)</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span><span class="token property-access">watermarkText</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword control-flow">await</span> inquirer<span class="token punctuation">.</span><span class="token method function property-access">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'filename'</span><span class="token punctuation">,</span>
      type<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
      message<span class="token operator">:</span> <span class="token string">'Type your watermark name:'</span><span class="token punctuation">,</span>
      <span class="token keyword module">default</span><span class="token operator">:</span> <span class="token string">'logo.png'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    options<span class="token punctuation">.</span><span class="token property-access">watermarkImage</span> <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token property-access">filename</span><span class="token punctuation">;</span>
    <span class="token function">addImageWatermarkToImage</span><span class="token punctuation">(</span><span class="token string">'./img/'</span> <span class="token operator">+</span> options<span class="token punctuation">.</span><span class="token property-access">inputImage</span><span class="token punctuation">,</span> <span class="token string">'./img/'</span> <span class="token operator">+</span> <span class="token function">prepareOutputFilename</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span><span class="token property-access">inputImage</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'./img/'</span> <span class="token operator">+</span> options<span class="token punctuation">.</span><span class="token property-access">watermarkImage</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">startApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Spróbuj przetestować jej działanie. Stwórz w katalogu projektu folder <code>img</code> i wrzuć tam dowolny obrazek o dużym rozmiarze. Dorzuć również wcześniej wspomniane logo Kodilli. Następnie uruchom aplikację i sprawdź, czy poradzi sobie z dodaniem watermarka tekstowego oraz obrazkowego.</p>
<h3 id="263-zewnetrzne-paczki-podsumowanie">Podsumowanie</h3>
<p>Kod aplikacji nie jest zbyt długi, a mimo to oferuje ona całkiem ciekawą funkcjonalność, i co ważne, <strong>taką, której nie osiągnęlibyśmy w JS-ie z pomocą przeglądarki</strong>. Jak widać, Node.js daje nam spore możliwości, ale ważnym wnioskiem, który musisz wyciągnąć z tego submodułu i zadania jest fakt, że <strong>Node.js to nieco inne środowisko</strong> niż przeglądarka. Mimo że większość znanych Ci wbudowanych funkcji działa w jednym i drugim miejscu, są jednak takie elementy, które są dla nich indywidualne. Pokazaliśmy Ci to na przykładzie <code>window</code> (tylko w przeglądarce), czy <code>process</code> (tylko w Node.js). Oczywiście podczas dalszej pracy z Node.js tych różnic będzie można wychwycić jeszcze więcej. Miej to na uwadze.</p>

                        </div>
                    </div>
                                        <div class="card-block task-card">
                        <h3 id="263-zewnetrzne-paczki-zadanie-rozwijamy-aplikacje">Zadanie: <span class="task-title">rozwijamy aplikację</span></h3>
                        <div class="task-content">
                            <p>Teraz twoja kolej. Tym razem nie będziesz budować aplikacji od nowa. Twoje zadanie to rozwinięcie tego, co już w tym submodule zrobiliśmy.</p>
<h4>Czy plik w ogóle istnieje?</h4>
<p>Zaczniemy od jednej bardzo istotnej rzeczy – dodania walidacji, czy dany plik w ogóle istnieje. W tej chwili bowiem, jeśli ktoś nawet przypadkiem pomyli się w nazwie pliku, otrzyma bardzo nieprzyjemny komunikat o błędzie:</p>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Node10.png" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Node10.png" alt="image" style="width: auto;"></a>
<p>To, że jakiś komunikat się pojawia, oczywiście nie jest złe, ale raczej chcielibyśmy, aby był on przyjemniejszy dla oka. Jeśli sami chcemy decydować o jego treści, musimy zwyczajnie sprawdzać, czy dany plik w ogóle istnieje. Wtedy, w sytuacji problemu, będziemy mogli pokazywać swój własny komunikat, oraz co ważne – blokować dalsze wykonywanie funkcji, która wyrzucała nam brzydki błąd systemowy.</p>
<p>Czy musimy tworzyć do tego nową funkcję? Okazuje się, że jest to już częścią modułu <code>fs</code> i mamy do tego gotową metodę.</p>
<p>Sprawdź w dokumentacji funkcję <a href="https://nodejs.org/api/fs.html#fs_fs_existssync_path" target="_blank">existsSync</a>, a następnie spróbuj zastosować ją w poniższym kodzie:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword control-flow">if</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span><span class="token property-access">watermarkType</span> <span class="token operator">===</span> <span class="token string">'Text watermark'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token keyword control-flow">await</span> inquirer<span class="token punctuation">.</span><span class="token method function property-access">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
    message<span class="token operator">:</span> <span class="token string">'Type your watermark text:'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  options<span class="token punctuation">.</span><span class="token property-access">watermarkText</span> <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span>
  <span class="token function">addTextWatermarkToImage</span><span class="token punctuation">(</span><span class="token string">'./img/'</span> <span class="token operator">+</span> options<span class="token punctuation">.</span><span class="token property-access">inputImage</span><span class="token punctuation">,</span> <span class="token string">'./img/'</span> <span class="token operator">+</span> <span class="token function">prepareOutputFilename</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span><span class="token property-access">inputImage</span><span class="token punctuation">)</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span><span class="token property-access">watermarkText</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword control-flow">await</span> inquirer<span class="token punctuation">.</span><span class="token method function property-access">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'filename'</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
    message<span class="token operator">:</span> <span class="token string">'Type your watermark name:'</span><span class="token punctuation">,</span>
    <span class="token keyword module">default</span><span class="token operator">:</span> <span class="token string">'logo.png'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  options<span class="token punctuation">.</span><span class="token property-access">watermarkImage</span> <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token property-access">filename</span><span class="token punctuation">;</span>
  <span class="token function">addImageWatermarkToImage</span><span class="token punctuation">(</span><span class="token string">'./img/'</span> <span class="token operator">+</span> options<span class="token punctuation">.</span><span class="token property-access">inputImage</span><span class="token punctuation">,</span> <span class="token string">'./img/'</span> <span class="token operator">+</span> <span class="token function">prepareOutputFilename</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span><span class="token property-access">inputImage</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'./img/'</span> <span class="token operator">+</span> options<span class="token punctuation">.</span><span class="token property-access">watermarkImage</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Zrób to w taki sposób, aby:</p>
<ol>
<li><code>addTextWatermarkToImage</code> uruchamiała się tylko wtedy, jeśli plik źródłowy istnieje.</li>
<li><code>addImageWatermarkToImage</code> uruchamiała się tylko wtedy, jeśli plik źródłowy oraz plik watermarku istnieje.</li>
</ol>
<p>W przypadku problemu z ładowaniem, w konsoli powinien pojawiać się komunikat <code>Something went wrong... Try again</code>.</p>
<div class="bc-note alert-warning">
<h4 class="alert-heading text-center">Uwaga!</h4>
<p>Pamiętaj, że Node.js domyślnie nie ładuje modułu <code>fs</code>! Musisz go zaimportować ręcznie za pomocą <code>require</code>.</p>
</div>
<h4>Komunikat o sukcesie</h4>
<p>Kolejne zadanie jest o wiele prostsze. Dopisz na koniec funkcji <code>addTextWatermarkToImage</code> oraz <code>addImageWatermarkToImage</code> dwie instrukcje:</p>
<ol>
<li>Za pomocą <code>console.log</code> informującą o sukcesie.</li>
<li>Uruchamiającą <code>startApp</code> od początku.</li>
</ol>
<p>Skąd wiemy, że na pewno koniec funkcji oznacza, że wszystko poszło dobrze? Ponieważ w <code>async ... await</code>, gdy któryś z promise'ów po drodze się nie wykona (<code>reject</code>), to JS wyrzuci nam po prostu błąd i funkcja nie będzie dalej wykonywana. Mamy więc pewność, że jeśli funkcja wykonuje nasze końcowe operacje, to na pewno wcześniej nie doszło do żadnego błędu.</p>
<h4>Try ... catch</h4>
<p>Warto byłoby zrobić jeszcze jedną rzecz. Jeśli wiemy, że istnieje możliwość wyrzucenia przez JS-a błędu, to powinniśmy przygotować się na jego "złapanie". W przypadku użycia promise'ów bez <code>async ... await</code> moglibyśmy wykorzystać po prostu blok <code>.catch()</code>. W przypadku <code>async ... await</code> musimy wykorzystać blok <code>try ... catch</code>. Zrobimy to w następujący sposób:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
  <span class="token comment">// normal code, it may throw an error at some point</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow">catch</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// if there's an error, we catch it and show it in console</span>
<span class="token punctuation">}</span></code></pre>
<p>Twoim zadaniem jest implementacja tego pomysłu w funkcjach <code>addTextWatermarkToImage</code> i <code>addImageWatermarkToImage</code>, w taki sposób, aby w przypadku błędu "wyłapywać" go, <strong>ale nie pokazywać go bezpośrednio w konsoli</strong>. Zamiast tego w razie problemów powinien pojawić się tylko komunikat: <code>Something went wrong... Try again!</code>.</p>
<h4>Dla ambitnych</h4>
<p>Jeśli to dla Ciebie za mało, spróbuj dodać do aplikacji jeszcze jedną funkcjonalność.</p>
<p>Aplikacja, po otrzymaniu odpowiedzi na temat ścieżki do pliku, powinna pytać o to, czy użytkownik ma ochotę go jeszcze edytować. Jeśli odpowie <code>n</code>, wtedy kontynuujemy bez zmian. Jeśli jednak odpowie <code>y</code>, to aplikacja powinna go zapytać, w formie listy, o rodzaj modyfikacji.</p>
<p>Do wyboru użytkownik ma mieć każdy z poniższych:</p>
<ul>
<li>make image brighter</li>
<li>increase contrast</li>
<li>make image b&amp;w</li>
<li>invert image</li>
</ul>
<p>Wybranie każdej z operacji powinno zmienić obrazek zgodnie z opisem. Oczywiście należy wykorzystać gotowe wbudowane metody, zgodnie z dokumentacją Jimpa. Po zmianach na obrazku aplikacja powinna kontynuować działanie i zadawać kolejne pytania – o typ watermarka itd.</p>

                        </div>
                    </div>
                                        <div class="card-block submodule-footer clearfix  completed ">
                                                <div class="clearfix">
                                                                                <a href="https://kodilla.com/pl/bootcamp-task/407/658346" target="_blank" class="btn btn-info-outline">Podgląd zadania</a>
                            <form target="_blank" class="form-inline project-link-form">
                                <div class="form-group">
                                    <input type="text" name="link" class="form-control" value="https://github.com/skwiryt/watermark-maker">
                                </div>
                                <button type="submit" class="btn  btn-primary ">Wyślij link <i class="fa fa-check"></i></button>
                            </form>
                                                                                                    </div>
                    </div>
                </section>
                                    
                <section id="submodule-1110" class="card submodule completed" data-bootcamp-user-submodule-id="658347">
                <!-- klasy dla section: completed current comments -->
                    <div class="card-block submodule-header clearfix">
                        <i class="fa fa-check-circle-o fa-2x"></i>
                        <i class="fa fa-play-circle-o fa-2x"></i>
                        <i class="fa fa-exclamation-circle fa-2x"></i>
                        <i class="fa fa-send-o fa-2x"></i>
                        <h2 class="bootcamp-submodule-name">26.4. <span>Electron – budujemy pełnoprawne aplikacje desktopowe</span></h2>
                                            </div>
                    <div class="card-block">
                        <div class="submodule-content">
                            <p>Nasza aplikacja z poprzedniego modułu pokazała, że w Node.js drzemią potężne możliwości. Mimo wszystko jednak, pod względem wyglądu, nie mieliśmy specjalnie czym się pochwalić. Cały interfejs użytkownika polegał jedynie na prostej komunikacji przy użyciu konsoli. To nie jest coś, czego oczekiwalibyśmy po nowoczesnej aplikacji desktopowej. Byliśmy jednak do tego zmuszeni. Taki był koszt odejścia od pomocy przeglądarki. Dało nam to większą swobodę przy pisaniu kodu JS, ale przy tym zabrało możliwość łatwego rozbudowywania aplikacji o przystępny wygląd (HTML i CSS).</p>
<p>Wspominaliśmy jednak, że przy wykorzystaniu Node'a powstały chociażby dwa rozbudowane edytory kodu (Atom.js i VSCode), gdzie przecież graficzny interfejs występuje. Jak twórcy zdołali tego dokonać? Czy my również jesteśmy w stanie budować takie aplikacje?</p>
<p>Sam <strong>Node.js wspiera nas tylko i wyłącznie przy kompilacji kodu JS</strong>. Nie potrafi więc renderować HTML. Istnieją jednak dodatkowe narzędzia, które w tym pomogą.</p>
<p>Na początku modułu powiedzieliśmy, że Google Chrome używa do kompilacji JS-a silnika <em>V8</em> i tak naprawdę cały pomysł Node'a polegał na tym, żeby ten silnik wykorzystać również poza przeglądarką. Wiesz już, że udało się tego dokonać i to z całkiem niezłym skutkiem. W przypadku renderowania HTML-a i CSS-a sytuacja jest bardzo podobna. Tutaj też przeglądarka musi używać jakiegoś silnika – na przykład, Google Chrome korzysta z <strong>Webkita</strong>. Czy istnieje więc możliwość użycia go również poza standardową przeglądarką?</p>
<p>Pomyśl tylko! Mając do dyspozycji silnik do renderowania JS-a, HTML-a i CSS-a, a do tego wsparcie Node.js, bylibyśmy w stanie stworzyć nawet... własną przeglądarkę! Jednak przede wszystkim – moglibyśmy korzystać ze wszystkich opcji, które znamy z przeglądarek, nie martwiąc się o ograniczenia.</p>
<p>Na rynku jest kilka narzędzi, które oferują właśnie takie możliwości. Jedno z nich to <strong>Electron</strong>, napisany przez twórców GitHuba. Narzędzie to dostarcza właśnie tego, czego potrzebujemy – pozwala na zintegrowanie możliwości <strong>Node.js</strong> z silnikiem <strong>Webkit</strong>. Dzięki temu <strong>możemy tworzyć desktopowe aplikacje okienkowe, nawet z bogatym UI, przy użyciu dobrze znanych technologii</strong>. Dodatkowo mamy szansę "zapakować" aplikację do zwykłego pliku <code>.exe</code>. Brzmi zachęcająco?</p>
<p>W ramach ciekawostki możemy dodać, że to właśnie <strong>Electron</strong> został wykorzystany np. przy tworzeniu bardzo popularnych edytorów Atom i VSCode!</p>
<h3 id="264-electron-budujemy-pelnoprawne-aplikacje-desktopowe-do-dziela">Do dzieła!</h3>
<p>Aby pokazać działanie Electrona w praktyce, przerobimy naszą starą aplikację z drugiego submodułu. Chodzi o tę, która pokazywała informacje o systemie użytkownika. Tym razem chcemy, aby była to okienkowa aplikacja z interfejsem stworzonym przy użyciu HTML-a i CSS-a.</p>
<div class="bc-note alert-info">
<h4 class="alert-heading text-center">Uwaga!</h4>
<p>Electron oferuje bardzo dużo możliwości, zwłaszcza jeśli chodzi o łatwą współpracę z różnymi modułami systemowymi (np. Windowsa). My w tym submodule zaledwie "dotkniemy" tego, co oferuje, aby pozwolić Ci na podstawowe poznanie tego narzędzia. Jeśli jednak masz ochotę, zachęcamy również do zapoznania się z <a href="https://electronjs.org/docs" target="_blank">dokumentacją</a>.</p>
</div>
<p>Zacznij od stworzenia nowego folderu projektu, zainicjowania <code>package.json</code>, oraz pobrania pierwszej paczki:</p>
<pre class=" language-js"><code class=" language-js">yarn add electron@<span class="token number">5.0</span><span class="token number">.6</span></code></pre>
<p>Teraz dodaj nowy katalog – <code>app</code>. Będziemy w nim przechowywać naszą aplikację (kod HTML, CSS i JS), którą w założeniu będzie uruchamiał Electron.</p>
<p>Następnie utwórz wewnątrz niego trzy pliki:</p>
<p><em>index.html</em></p>
<pre class=" language-html"><code class=" language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span> <span class="token attr-name">dir</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ltr<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>OS info<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./style.css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Os info<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>osPlatform<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>osArchitecture<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./script.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><em>script.js</em></p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> os <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'os'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> osPlatform <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">"#osPlatform"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> osArchitecture <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">"#osArchitecture"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

osPlatform<span class="token punctuation">.</span><span class="token property-access">innerHTML</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Platform: &lt;strong&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>os<span class="token punctuation">.</span><span class="token method function property-access">platform</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/strong&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
osArchitecture<span class="token punctuation">.</span><span class="token property-access">innerHTML</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Platform: &lt;strong&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>os<span class="token punctuation">.</span><span class="token method function property-access">arch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/strong&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre>
<p><em>style.css</em></p>
<pre class=" language-css"><code class=" language-css"><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'https://fonts.googleapis.com/css?family=Open+Sans&amp;display=swap'</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span></span>

<span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode color">#282c34</span><span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode color">#fff</span><span class="token punctuation">;</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'Open Sans'</span><span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token unit">px</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">h1</span> <span class="token punctuation">{</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> lighter<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Czy w kodzie naszej aplikacji jest coś nadzwyczajnego? Większość rzeczy mogłaby być obsłużona przez zwykłą przeglądarkę, ale mamy też fragment, który nie zadziałałby w niej. Chodzi o całą funkcjonalność z otrzymywaniem informacji o systemie.</p>
<div class="bc-note alert-info">
<h4 class="alert-heading text-center">Electron = Chrome?</h4>
<p>Bardzo często przy pisaniu kodu, musimy zastanawiać się, czy dana właściwość albo funkcja będzie działać w konkretnej przeglądarce. Electron ma tę zaletę, że każdy, kto odpali Twoją aplikację, dostanie stronę wyrenderowaną zawsze w taki sam sposób, przez ten sam silnik. Nie musisz obawiać się, że jedna osoba uruchomi go w Chromie, inna w Firefoksie, a jeszcze inna w IE 11.</p>
<p>Pojawia się jednak pytanie – jak możemy ustalić, czy dana właściwość lub funkcja będzie wspierana? W końcu np. <a href="https://caniuse.com/" target="_blank">Can I Use</a> nie udostępnia tabelki dla narzędzia Electron. Odpowiedź jest prosta. Electron używa Webkita, czyli tego samego silnika, co Chrome. Zawsze patrzymy więc na dostępność właśnie dla tej przeglądarki. A jaką wersję Chrome'a mamy brać pod uwagę? To, jakiej wersji Webkita używa dana wersja Electrona, możesz sprawdzić na stronie narzędzia.</p>
</div>
<h3 id="264-electron-budujemy-pelnoprawne-aplikacje-desktopowe-jazda-testowa">Jazda testowa!</h3>
<p>Electron daje szerokie możliwości konfiguracji tego, w jaki sposób ma działać, ale też, w jaki sposób ma wyglądać. Możemy ustawić np. aby pozwalał na kompilację kodu Node.js (dla nas to bardzo ważne) albo, że ma pokazywać na starcie narzędzia developerskie (te, które znamy też z Chrome'a). Możemy ustawić też rozmiar okna, tryb pełnoekranowy itp. Opcji jest całkiem dużo, cała ich lista jest dostępna w dokumentacji.</p>
<p>My na razie spróbujemy odpalić naszą aplikację bez zbędnych ceregieli – z domyślnymi ustawieniami.</p>
<p>Dodaj do <code>package.json</code> nowy skrypt:</p>
<pre class=" language-js"><code class=" language-js"><span class="token string">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string">"start"</span><span class="token operator">:</span> <span class="token string">"electron ./app/index.html"</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre>
<p>Czy komenda <code>electron ./app/index.html</code> coś Ci przypomina? W podobny sposób kompilowaliśmy poza przeglądarką sam kod JS za pomocą Node'a (np. <code>node app.js</code>).</p>
<p>Uruchom teraz w konsoli komendę <code>yarn start</code>. Przed oczami powinna pokazać Ci się następująca aplikacja:</p>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Electron.png" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Electron.png" alt="image" style="width: auto;"></a>
<p>Brawo! Udało Ci się utworzyć pierwszą prawdziwą okienkową aplikację!</p>
<p>Zapewne jednak widzisz już, że nasz kod JS nie do końca prawidłowo zadziałał. Powinien pokazać w HTML-u informacje o systemie użytkownika. Dlaczego tak się nie stało? Kompilacja kodu Node.js to jedna z opcji, która domyślnie jest w Electronie ustawiona na <code>false</code>. Oczywiście zaraz się tym zajmiemy!</p>
<h3 id="264-electron-budujemy-pelnoprawne-aplikacje-desktopowe-wlasne-ustawienia">Własne ustawienia</h3>
<p>Przy początkach nauki Webpacka zawsze bardzo miłą cechą był fakt, że do podstawowego działania wystarczy uruchomienie komendy <code>webpack</code>. Dość szybko jednak do gry wchodził plik <code>webpack.config.js</code>, który pozwalał na dokładniejszą jego konfigurację. Podobnie jest też w przypadku Electrona. Możemy uruchomić go bez żadnej konfiguracji, ale najczęściej chcemy jednak ustawić kilka opcji.</p>
<p>Dodaj więc w głównym katalogu projektu plik <code>main.js</code>. Będzie to plik zajmujący się konfiguracją i uruchomieniem naszej aplikacji za pomocą Electrona.</p>
<p><em>main.js</em></p>
<pre class=" language-js"><code class=" language-js"><span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> app<span class="token punctuation">,</span> <span class="token maybe-class-name">BrowserWindow</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'electron'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token comment">// create new window</span>
  <span class="token keyword">let</span> mainWindow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BrowserWindow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    webPreferences<span class="token operator">:</span> <span class="token punctuation">{</span>
      nodeIntegration<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    width<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
    height<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// load app/index.html as the window content</span>
  mainWindow<span class="token punctuation">.</span><span class="token method function property-access">loadFile</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">,</span> <span class="token string">'index.html'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

app<span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'ready'</span><span class="token punctuation">,</span> main<span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'window-all-closed'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  app<span class="token punctuation">.</span><span class="token method function property-access">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Teraz omówmy sobie ten kod po kolei.</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> app<span class="token punctuation">,</span> <span class="token maybe-class-name">BrowserWindow</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'electron'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Zaczynamy od zwykłych importów jak <code>path</code>, który pojawił się już&nbsp;w kursie. Będziemy wykorzystywać jedną funkcję z tego modułu – <code>join</code>. Służy ona do tworzenia odpowiedniej ścieżki do pliku, tak żeby działała poprawnie na każdym systemie. Obiektem całej aplikacji jest <code>app</code>. Klasa <code>BrowserWindow</code> służy do tworzenia "okienek". W okienku oczywiście będzie mógł być pokazany nasz plik <code>index.html</code>, ale też każdy inny. Co ważne, każda aplikacja może tworzyć i korzystać z wielu okienek.</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token comment">// create new window</span>
  <span class="token keyword">let</span> mainWindow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BrowserWindow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    webPreferences<span class="token operator">:</span> <span class="token punctuation">{</span>
      nodeIntegration<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    width<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
    height<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// load app/index.html as the window content</span>
  mainWindow<span class="token punctuation">.</span><span class="token method function property-access">loadFile</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">,</span> <span class="token string">'index.html'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span></code></pre>
<p>To funkcja startowa. Jej zadaniem ma być uruchomienie jednego okna aplikacji o rozmiarach 300x300 i wyrenderowanie w nim naszego pliku <code>index.html</code> z folderu <code>app</code>. Opcja <code>nodeIntegration</code> to coś, o czym mówiliśmy już wcześniej. Pozwala na uruchomienie funkcjonalności Node.js w naszej aplikacji.</p>
<pre class=" language-js"><code class=" language-js">app<span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'ready'</span><span class="token punctuation">,</span> main<span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'window-all-closed'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  app<span class="token punctuation">.</span><span class="token method function property-access">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Pozostały kod zajmuje się uruchomieniem funkcji <code>main</code>, kiedy Electron jest już gotowy do pracy oraz zakończeniem procesu, jeśli ktoś kliknie na przycisk "x" w oknie.</p>
<p>Czas wprowadzić jeszcze jedną małą zmianę. Plik <code>main.js</code> jest już gotowy, ale Electron nie domyśli się sam, że ma z niego skorzystać. Musimy zmodyfikować nasz skrypt w <code>package.json</code>:</p>
<pre class=" language-js"><code class=" language-js"><span class="token string">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string">"start"</span><span class="token operator">:</span> <span class="token string">"electron main.js"</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre>
<p>Teraz spróbuj uruchomić w konsoli komendę <code>yarn start</code>. Efektem powinna być następująca aplikacja:</p>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Electron2.png" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Electron2.png" alt="image" style="width: auto;"></a>
<p>Jeśli wszystko działa, nasza praca dobiegła końca, a mała aplikacja, tym razem w trochę bardziej przyjemnej dla użytkownika wersji, jest gotowa.</p>
<div class="bc-note alert-info">
<h4 class="alert-heading text-center">Pełna konfiguracja!</h4>
<p>Jeśli interesuje Cię jakie inne opcje możemy ustawić w obiekcie okna, zapraszamy do <a href="https://electronjs.org/docs/api/browser-window" target="_blank">dokumentacji</a>. Electron pozwala w łatwy sposób uczynić nasze okno pełnoekranowym, schować toolbar (belkę z "File", "Edit"...), czy nawet pozbawić go górnego paska systemowego!</p>
</div>

                        </div>
                    </div>
                                        <div class="card-block task-card">
                        <h3 id="264-electron-budujemy-pelnoprawne-aplikacje-desktopowe-zadanie-wiecej-praktyki">Zadanie: <span class="task-title">więcej praktyki</span></h3>
                        <div class="task-content">
                            <p>Aby przećwiczyć używanie Electrona, wykonamy jeszcze jedną małą aplikację. Podobnie jak poprzednie, nie będzie ona bardzo rozbudowana i wykorzystamy w niej tylko namiastkę tego, co oferuje to narzędzie. Niemniej jednak powinna pomóc Ci w pracy z Electronem w przyszłości.</p>
<h4>Co zbudujemy?</h4>
<p>Naszym zadaniem jest stworzenie okienkowej aplikacji pomagającej zadbać o wzrok podczas pracy przy komputerze. Amerykańscy optycy zalecają, aby dla zdrowia naszych oczu, co 20 minut przerywać pracę przed komputerem na 20 sekund i wykorzystać ten czas na patrzenie w dal, na odległość większą niż 20 stóp (około 6 metrów). Nasza aplikacja ma pomagać w przestrzeganiu tej zasady.</p>
<p>Jej działanie będzie następujące:</p>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Electron7.gif" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Electron7.gif" alt="image" style="width: auto; max-width: 50%;"></a>
<ol>
<li>Na starcie powinna przywitać nas opisem aplikacji oraz buttonem "Start".</li>
<li>Po kliknięciu na button "Start" powinien on zniknąć. Podobnie ukryty powinien zostać opis aplikacji. Zamiast tego użytkownik zobaczy button "Stop", licznik czasu (wartość startowa 20:00), który od tego momentu zacznie odliczać czas w dół, oraz obrazek <code>Work.png</code>.</li>
<li>Gdy licznik dojdzie do zera, powinien zacząć odliczać od nowa (tym razem 20 sekund), a zamiast obrazka <code>Work.png</code> pokazać <code>Rest.png</code>.</li>
<li>Gdy 20 sekund minie, wracamy do sytuacji poprzedniej – ukryty <code>Rest.png</code>, pokazany <code>Work.png</code> i odliczamy od nowa 20 minut. Proces ten (praca – odpoczynek, praca – odpoczynek) ma od tego momentu działać ciągle, aż do kliknięcia buttonu "Stop".</li>
<li>Button "Stop" powinien resetować aplikację, czyli wrócić do jej startowego wyglądu z punktu 1.</li>
</ol>
<p>Dodatkowo:</p>
<ol>
<li>Gdy licznik dojdzie do zera, aplikacja powinna uruchomić sygnał dźwiękowy – <code>bell.wav</code>.</li>
<li>Button "X" powinien powodować wyłączenie aplikacji (zamknięcie okna).</li>
</ol>
<p>Wszystko jasne? Nie wydaje się to być aż takie trudne, prawda?</p>
<h4>Etap 1</h4>
<p>Wbrew pozorom pracy nie będzie aż tak dużo. Na starcie otrzymamy bowiem pomoc z zewnątrz, od designera. Dostaniemy już zaczęty projekt, na szablonie, który wykonaliśmy do wcześniejszego przykładu z tego submodułu. Designer przygotował wszystkie elementy. My tylko musimy zadbać o logikę aplikacji i tchnąć w nią trochę życia.</p>
<p><strong>Kod startowy możesz pobrać <a href="https://uploads.kodilla.com/bootcamp/wdp/26.node-js/app.zip" target="_blank">tutaj</a>.</strong></p>
<p>Pamiętaj, aby zainstalować zależności zdefiniowane w <code>package.json</code> za pomocą komendy <code>yarn</code> (odpowiednik <code>npm install</code>).</p>
<p>Jak widzisz, plik <code>main.js</code>, a więc konfiguracja Electrona jest prawie identyczna, jak ta, którą wcześniej napisaliśmy sami. Z tą różnicą, że tutaj designer ustawił trochę większe wymiary, aby łatwiej nam się pracowało. Na gifie oczywiście widzimy, że będziemy musieli trochę te ustawienia zmienić (np. schować ramkę), ale tym zajmiemy się później.</p>
<div class="bc-note alert-info">
<h4 class="alert-heading text-center">Szablon startowy</h4>
<p>Oczywiście nasz szablon startowy, oparty na wcześniejszym zadaniu, jest bardzo prosty. Nie wykorzystujemy w nim Webpacka ani boilerplate'a Create React App. Nie istnieje również funkcjonalność automatycznego odświeżania aplikacji przy zmianach w kodzie. Dzięki tej prostocie możesz łatwiej się w nim odnaleźć, a do naszego małego przykładu będzie on wystarczający.</p>
<p>Przy bardziej zaawansowanych przykładach może Cię zainteresować np. <a href="https://github.com/electron/electron-quick-start" target="_blank">https://github.com/electron/electron-quick-start</a> albo jakiś szablon przygotowany pod Reacta.</p>
</div>
<p>Na tym etapie warto wykonać tylko jedną zmianę w konfiguracji. Na czas prac można włączyć narzędzia developerskie. Jest to możliwe za pomocą instrukcji:</p>
<pre class=" language-js"><code class=" language-js">mainWindow<span class="token punctuation">.</span><span class="token property-access">webContents</span><span class="token punctuation">.</span><span class="token method function property-access">openDevTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Dodaj ją do funkcji <code>main</code> w pliku <code>main.js</code>.</p>
<p>Kod w <code>script.js</code>, który przygotował grafik, nie powinien być za to dla Ciebie żadną nowością. To po prostu zwykły reactowy komponent z funkcją <code>render</code>.</p>
<p>Nasza aplikacja w tej chwili, po uruchomieniu komendy <code>yarn start</code>, powinna wyglądać następująco:</p>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Electron3.png" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Electron3.png" alt="image" style="width: auto;"></a>
<div class="bc-note alert-info">
<h4 class="alert-heading text-center">Wystarczy tej pomocy?</h4>
<p>Jeśli wydaje Ci się, że nie potrzebujesz kolejnych wskazówek i jesteś w stanie napisać całą logikę aplikacji bez naszej pomocy, na podstawie opisu i animacji, zabierz się teraz do pracy, a po skończeniu przejdź od razu do ostatniego etapu zadania. Dokończymy w nim konfigurację Electrona (usunięcie ramki).</p>
</div>
<h4>Etap 2 – przygotowujemy stan</h4>
<p>Zacznij od przygotowania stanu. Będziemy przechowywać takie oto informacje:</p>
<ul>
<li><code>status</code> – załóżmy tutaj trzy możliwości: <code>off</code>, <code>work</code> i <code>rest</code>. Ta zmienna będzie informowała nas, w jakim stanie jest w tej chwili aplikacja, co wykonuje. Domyślna wartość: <code>off</code>.</li>
<li><code>time</code> – zmienna przechowująca czas licznika (w sekundach).</li>
<li><code>timer</code> – zmienna zawierająca przyszły interval. W końcu będziemy musieli odpalać funkcję odmierzającą czas w formie interwału, co sekundę. Na razie może mieć wartość <code>null</code>.</li>
</ul>
<h4>Etap 3 – warunkujemy pokazywanie elementów</h4>
<p>Zacznij od warunkowego pokazywania elementów. W tej chwili aplikacja od razu pokazuje wszystko. My chcemy, aby:</p>
<ul>
<li>Opis, czyli dwa akapity z tekstem, były pokazywane tylko wtedy, kiedy <code>status</code> jest równy <code>off</code>. Dla ułatwienia możesz wstawić oba <code>p</code> w jednego diva albo nawet "wyciągnąć" cały opis do zewnętrznego komponentu.</li>
<li>Obrazek <code>work.png</code> pokazywał się, kiedy <code>status</code> jest równy <code>work</code>.</li>
<li>Obrazek <code>rest.png</code> pokazywał się, kiedy <code>status</code> jest równy <code>rest</code>.</li>
<li>Licznik pokazywał się, gdy status jest inny niż <code>off</code>.</li>
<li>Button "Start" pokazywał się, gdy <code>status</code> jest równy <code>off</code>.</li>
<li>Button "Stop" pokazywał się, gdy <code>status</code> jest inny niż <code>off</code>.</li>
</ul>
<p>Oczywiście możesz osiągnąć ten efekt na wiele sposobów. Postaraj się zrobić to w taki sposób, aby kod był jak najbardziej czytelny. Możesz nawet podzielić aplikację na kilka komponentów.</p>
<p class="text-center">
  <span class="collapse-toggles">
    <a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#collapse-eZj4yppmL-toggle" class="btn btn-primary collapsed" data-toggle="collapse">Pokaż przykładowe rozwiązanie</a>
    <a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#collapse-eZj4yppmL-toggle" class="btn btn-primary collapsed" data-toggle="collapse">Ukryj przykładowe rozwiązanie</a>
  </span>
</p>
<div id="collapse-eZj4yppmL-toggle" class="collapse">
<pre class=" language-jsx"><code class=" language-jsx">render() {

    const { status } = this.state;

    return (
      &lt;div&gt;
        &lt;h1&gt;Protect your eyes&lt;/h1&gt;
        {(status === 'off') &amp;&amp; &lt;AppDescription /&gt;}
        {(status === 'work') &amp;&amp; &lt;img src="./images/work.png" /&gt;}
        {(status === 'rest') &amp;&amp; &lt;img src="./images/rest.png" /&gt;}
        {(status !== 'off') &amp;&amp; &lt;div className="timer"&gt;18:23&lt;/div&gt;}
        {(status === 'off') &amp;&amp; &lt;button className="btn"&gt;Start&lt;/button&gt;}
        {(status !== 'off') &amp;&amp; &lt;button className="btn"&gt;Stop&lt;/button&gt;}
        &lt;button className="btn btn-close"&gt;X&lt;/button&gt;
      &lt;/div&gt;
    )
  };</code></pre>
<p><strong>Uwaga</strong> – w tym rozwiązaniu opis aplikacji przeniesiono do osobnego komponentu (<code>AppDescription</code>).</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">class</span> <span class="token class-name">AppDescription</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token maybe-class-name">According</span> to optometrists <span class="token keyword">in</span> order to save your eyes<span class="token punctuation">,</span> you should follow the <span class="token number">20</span><span class="token operator">/</span><span class="token number">20</span><span class="token operator">/</span><span class="token number">20.</span> <span class="token maybe-class-name">It</span> means you should rest your eyes every <span class="token number">20</span> minutes <span class="token keyword control-flow">for</span> <span class="token number">20</span> seconds by looking more than <span class="token number">20</span> feet away<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token maybe-class-name">This</span> app will help you track your time and inform you when it's time to rest<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
</div>
<h4>Etap 4 – formatujemy licznik</h4>
<p>Pora na zmianę naszego licznika. Po pierwsze – chcemy, aby pokazywał on czas zapisany w <code>state.time</code>, po drugie – musi to robić w odpowiednim formacie.</p>
<p>W tym kroku stwórz więc nową metodę <code>formatTime</code>, która będzie zwracać czas zapisany w <code>state.time</code>, w formacie <code>mm:ss</code> (np. <code>12:48</code>). Następnie wykorzystaj tę funkcję w divie <code>.timer</code>.</p>
<p><em>Uwaga</em> – Jeśli minuta albo sekunda jest mniejsza niż 10, to licznik powinien pokazywać przed liczbą <code>0</code>, czyli np. dla <code>13:5</code> oczekujemy na zwrócenie <code>13:05</code>.</p>
<h4>Etap 5 – pobudzamy "Start" do życia</h4>
<p>W tym etapie stwórz nową metodę <code>startTimer</code> i podepnij jej wywołanie do eventu <code>click</code> buttonu "Start".</p>
<p>Funkcja ta powinna tworzyć nowy interval w <code>state.timer</code>, który będzie uruchamiać funkcję odmierzającą czas co sekundę. Metodę tę zrobimy już na zewnątrz <code>startTimer</code>. Nazwiemy ją <code>step</code>. Utwórz ją już teraz, ale na razie jej treść może pozostać pusta. Na razie po prostu wykorzystaj ją przy tworzeniu interwału jako callback.</p>
<p class="text-center">
  <span class="collapse-toggles">
    <a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#collapse-QhfoLrABt9-toggle" class="btn btn-primary collapsed" data-toggle="collapse">Pokaż rozwiązanie</a>
    <a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#collapse-QhfoLrABt9-toggle" class="btn btn-primary collapsed" data-toggle="collapse">Ukryj rozwiązanie</a>
  </span>
</p>
<div id="collapse-QhfoLrABt9-toggle" class="collapse">
<pre class=" language-jsx"><code class=" language-jsx">step = () =&gt; {};

startTimer = () =&gt; {

  this.setState({
    timer: setInterval(this.step, 1000),
  });

};</code></pre>
</div>
<p>Oprócz tego <code>startTimer</code> powinna ustawić też czas na wartość startową – <code>1200</code> (1200sec = 20min) i zmienić <code>state.status</code> na <code>work</code>.</p>
<p>Po tych zmianach nasza aplikacja powinna działać następująco:</p>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Electron4.gif" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Electron4.gif" alt="image" style="width: auto; max-width: 50%;"></a>
<h4>Etap 6 – zaczynamy odliczanie!</h4>
<p>Czas popracować trochę nad funkcją <code>step</code>. Na razie po kliknięciu na "Start", jest ona uruchamiana co sekundę, ale nie robi nic.</p>
<p>Twoim zadaniem jest jej modyfikacja. Funkcja ta:</p>
<ol>
<li>Na starcie powinna zająć się zmniejszeniem licznika o 1s.</li>
<li>Następnie powinna sprawdzić, czy doszliśmy już do 0.</li>
<li>Jeśli tak, to należy zmienić status. Gdy aktualnym był <code>work</code>, to zmieniamy go na <code>rest</code>. Jeśli aktualnym był <code>rest</code>, zmieniamy go na <code>work</code>. Trzeba zacząć odliczanie od nowa. Jeśli zmieniliśmy status z <code>rest</code> na <code>work</code>, to odliczamy od nowa 20 minut (1200s). Jeśli z <code>work</code> na <code>rest</code> – 20 sekund.</li>
</ol>
<p>Po wykonaniu tych zmian aplikacja powinna działać już całkiem dobrze!</p>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Electron5.gif" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Electron5.gif" alt="image" style="width: auto; max-width: 50%;"></a>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Electron6.gif" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Electron6.gif" alt="image" style="width: auto; max-width: 50%;"></a>
<h4>Etap 7 – Przycisk "Stop" i "X"</h4>
<p>Pozostały nam dwie przyjemne rzeczy. Musimy zakodować button "Stop" oraz "X".</p>
<p>Button "Stop" powinien uruchamiać nową funkcję <code>stopTimer</code>. Musisz ją napisać, a następnie przypiąć do zdarzenia <code>click</code> na tym buttonie.</p>
<p>Funkcja ta powinna:</p>
<ol>
<li>Zatrzymać interval <code>state.timer</code> – możesz wspomóc się tu internetem. Poszukaj frazy "clear interval" w wyszukiwarce.</li>
<li>Wyzerować czas (zerujemy <code>state.time</code>).</li>
<li>Zmienić status (ustawiamy <code>state.status</code> na <code>off</code>).</li>
</ol>
<p>Następnie musisz stworzyć kolejną funkcję <code>closeApp</code>. Powinna być ona przypięta do zdarzenia <code>click</code> na buttonie "X".</p>
<p>Zadaniem tej funkcji będzie po prostu... zamknięcie całej aplikacji. Wystarczy, że użyjesz tutaj instrukcji <code>window.close()</code>.</p>
<h4>Etap 8 - dodajemy dźwięk! (dla ambitnych)</h4>
<p>Na tym etapie dodamy do aplikacji funkcjonalność uruchamiania odgłosu "gongu". Powinna uruchamiać się przy zmianie statusu z <code>work</code> na <code>rest</code> i na odwrót.</p>
<p>Zacznij od dodania nowej metody – <code>playBell</code>. Jej zdaniem będzie po prostu uruchamianie pliku dźwiękowego <code>bell.wav</code> (znajduje się on w folderze <code>sounds</code>).</p>
<p>Następnie funkcję tę wywołuj w metodzie <code>step</code> w sytuacji, gdy odliczono czas do zera (a więc nadszedł moment zmiany statusu).</p>
<p>Pomocna w wykonaniu zadania będzie dokumentacja <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLAudioElement" target="_blank">HTMLAudioElement</a>.</p>
<p class="text-center">
  <span class="collapse-toggles">
    <a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#collapse-uR2cBp3RQR-toggle" class="btn btn-primary collapsed" data-toggle="collapse">Pokaż gotową funkcję `playBell`</a>
    <a href="https://kodilla.com/pl/bootcamp-module/407/275/5935#collapse-uR2cBp3RQR-toggle" class="btn btn-primary collapsed" data-toggle="collapse">Ukryj gotową funkcję `playBell`</a>
  </span>
</p>
<div id="collapse-uR2cBp3RQR-toggle" class="collapse">
<pre class=" language-jsx"><code class=" language-jsx">playBell = () =&gt; {
  const bell = new Audio('./sounds/bell.wav');
  bell.play();
};</code></pre>
</div>
<h4>Etap 9 – ostatnie poprawki</h4>
<p>Na końcu musimy poprawić jeszcze kilka rzeczy.</p>
<ol>
<li>Nie chcemy, aby aplikacja była odpalana w okienku z ramką.</li>
<li>Musimy dopasować odpowiednie wymiary.</li>
<li>Powinniśmy wyłączyć DevTools.</li>
</ol>
<p>Wyłączenie ramki w oknie jest bardzo proste. Wystarczy zmodyfikować konfigurację <code>BrowserWindow</code> w <code>main.js</code>. Do opcji, które już tam są, dodaj <code>frame: false</code>.</p>
<p>Przy okazji, możesz zmodyfikować w tym samym miejscu rozmiar okna. Ustaw następujące wymiary: <code>520x650</code>.</p>
<p>Na końcu wyłącz jeszcze funkcję, która odpowiadała za uruchamianie narzędzi developerskich. Nie będą nam już potrzebne.</p>
<p>Na końcu nasza aplikacja powinna prezentować się następująco:</p>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Electron7.gif" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/Electron7.gif" alt="image" style="width: auto; max-width: 50%;"></a>
<p>To już wszystko. Jak widzisz, Electron całkiem przyjemnie towarzyszył nam od początku do końca zadania. W ramach dodatkowego ćwiczenia możesz przejrzeć dokumentację i spróbować pobawić się również z innymi możliwościami i opcjami, które nam dostarcza.</p>

                        </div>
                    </div>
                                        <div class="card-block submodule-footer clearfix  completed ">
                                                <div class="clearfix">
                                                                                <a href="https://kodilla.com/pl/bootcamp-task/407/658347" target="_blank" class="btn btn-info-outline">Podgląd zadania</a>
                            <form target="_blank" class="form-inline project-link-form">
                                <div class="form-group">
                                    <input type="text" name="link" class="form-control" value="https://github.com/skwiryt/braker">
                                </div>
                                <button type="submit" class="btn  btn-primary ">Wyślij link <i class="fa fa-check"></i></button>
                            </form>
                                                                                                    </div>
                    </div>
                </section>
                                    
                <section id="submodule-1111" class="card submodule completed" data-bootcamp-user-submodule-id="658348">
                <!-- klasy dla section: completed current comments -->
                    <div class="card-block submodule-header clearfix">
                        <i class="fa fa-check-circle-o fa-2x"></i>
                        <i class="fa fa-play-circle-o fa-2x"></i>
                        <i class="fa fa-exclamation-circle fa-2x"></i>
                        <i class="fa fa-send-o fa-2x"></i>
                        <h2 class="bootcamp-submodule-name">26.5. <span>Publikujemy własną paczkę!</span></h2>
                                            </div>
                    <div class="card-block">
                        <div class="submodule-content">
                            <p>Podczas kursu nie raz było Ci dane korzystać z zewnętrznych paczek. Choć miały różnych autorów, ich pobranie było zawsze dziecinnie proste. Dbał o to, poznany już przez nas <strong>NPM</strong>, który po uruchomieniu komendy <code>npm install nazwapaczki</code> (np. <code>npm install bootstrap</code>), sam odnajdywał odpowiednie zasoby i ściągał je do naszego projektu. Co więcej, mogliśmy nawet wskazać dokładną wersję, o którą nam chodzi (np. <code>npm install bootstrap 3.3.6</code>).</p>
<p>Skąd NPM pobiera te paczki? W module, w którym wprowadzono NPM-a, była mowa o <strong>repozytorium</strong>, z którego to narzędzie czerpie. Wiemy zatem, że istnieje po prostu baza paczek, którą przechowuje NPM i to właśnie z niej korzystamy. Zawartość tego repozytorium możemy łatwo sprawdzić – wystarczy skorzystać z wyszukiwarki na <a href="https://www.npmjs.com/" target="_blank">npmjs.com</a>.</p>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/NPM.png" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/NPM.png" alt="image" style="width: auto; max-width: 50%;"></a>
<p>Kto jednak decyduje o tym, jakie paczki się tam znajdą? Kto je tam publikuje? I kto dba o to, żeby były dostępne różne ich wersje? Odpowiedź jest prosta – <strong>wszyscy</strong>.</p>
<p>Twórcy NPM-a nie zajmują się wyszukiwaniem paczek i dodawaniem wybranych do swojego repozytorium. Zamiast tego, pozwalają robić to wszystkim użytkownikom. Każdy może opublikować swój własny pakiet i decydować jakie wersje będzie udostępniał. Nie istnieje nawet żaden proces wstępnej "walidacji", czy paczka jest sensowna, czy może zwyczajnie nie działa. Tym samym w repozytorium NPM-a możesz znaleźć projekty takich marek jak Google czy Facebook oraz te, które zostały stworzone na potrzeby testów albo dla... żartu (np. paczka <a href="https://www.npmjs.com/package/is-odd" target="_blank">is-odd</a>, do sprawdzenia, czy liczba jest nieparzysta).</p>
<p>Skoro publikować mogą wszyscy, to i my! Zrobimy to w ostatniej części tego modułu – opublikujemy własną paczkę w repozytorium NPM-a.</p>
<div class="bc-note alert-info">
<h4 class="alert-heading text-center">Co z Yarnem?</h4>
<p>Yarn "pod maską" korzysta z tego samego repozytorium, co NPM. Komenda <code>yarn add</code> pobiera paczki z dokładnie tego samego miejsca, co <code>npm install</code>.</p>
</div>
<h3 id="265-publikujemy-wlasna-paczke-budujemy-generator-id">Budujemy generator ID</h3>
<p>Aby jednak mieć co publikować, musimy najpierw przygotować jakąś aplikację. Zajmiemy się czymś, co może nam się przydać w przyszłości – generatorem unikalnych identyfikatorów.</p>
<h4>Pierwsze kroki</h4>
<p>Proces tworzenia paczki będzie trochę inny niż samej aplikacji. W końcu <strong>chcemy przygotować coś, co będzie mogło być używane jako integralna część innych aplikacji</strong>.</p>
<p>Nie będziemy więc przygotowywać aplikacji jako takiej. <strong>Stworzymy tylko sam moduł</strong>, który każdy będzie mógł pobrać do swojego projektu, zaimportować, a następnie użyć do generowania id.</p>
<p>Jednak po kolei :)</p>
<p>Zacznij od stworzenia folderu projektu oraz wygenerowania pliku <code>package.json</code>.</p>
<pre class=" language-markup"><code class=" language-markup">yarn init -y</code></pre>
<p>Teraz zajrzyjmy do środka.</p>
<pre class=" language-js"><code class=" language-js"><span class="token punctuation">{</span>
  <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"your-project-folder-name"</span><span class="token punctuation">,</span>
  <span class="token string">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>
  <span class="token string">"main"</span><span class="token operator">:</span> <span class="token string">"index.js"</span><span class="token punctuation">,</span>
  <span class="token string">"license"</span><span class="token operator">:</span> <span class="token string">"MIT"</span>
<span class="token punctuation">}</span></code></pre>
<p>Dotychczas nie interesowało nas za bardzo to, jak <code>package.json</code> "opisuje" nasze aplikacje. Tutaj sytuacja jest inna, bowiem to właśnie z tych informacji będzie korzystać NPM przy pokazywaniu opisu naszej paczki na <a href="https://npmjs.com/" target="_blank">npmjs.com</a>.</p>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/NPM2.png" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/NPM2.png" alt="image" style="width: auto; max-width: 50%;"></a>
<p>Jaka jest aktualna wersja paczki, licencja, na której się opiera, link do strony głównej i repozytorium – to wszystko informacje, które NPM będzie czerpał właśnie z pliku konfiguracyjnego naszej paczki: <code>package.json</code>. Chcemy więc, żeby były one sensowne.</p>
<p>Na screenie widzisz zaznaczony również spory blok z opisem projektu. On jednak nie będzie pobrany z <code>package.json</code>. Zamiast tego NPM poszuka w naszej paczce pliku <code>README.md</code> i to z niego skorzysta przy pokazywaniu opisu.</p>
<p>Czy warto wprowadzić jakieś zmiany w tym, co aktualnie mamy?</p>
<p>Zarówno <code>version</code>, jak i <code>main</code>, który informuje o tym, jaki jest plik "wejściowy" naszej paczki, mogą pozostać bez zmian. Licencja MIT też nie będzie zła. To najpopularniejsza licencja na GH. Daje użytkownikom nieograniczone prawo do używania, kopiowania, modyfikowania i rozpowszechniania dzieła.</p>
<div class="bc-note alert-info">
<h4 class="alert-heading text-center">Więcej informacji</h4>
<p>Jeśli masz ochotę, możesz dodać do <code>package.json</code> trochę więcej informacji: np. kto jest autorem (atrybut <code>author</code>), jakie są słowa kluczowe (<code>keywords</code>), które ułatwią wyszukiwanie paczki, albo kto pomagał przy pracy (<code>contributors</code>) itp.</p>
</div>
<p>Jedyną rzeczą, którą koniecznie musisz zmienić, jest <code>name</code>. Każdy pakiet NPM musi mieć unikalną nazwę. Jak zapewne się domyślasz, może to być trudne, szczególnie kiedy chcesz opublikować pakiet, który nie jest wyjątkowo unikatowy – na przykład ten, który będziemy publikować.</p>
<p>Właśnie z tego powodu wykorzystamy możliwość umieszczenia pakietu w tzw. <em>user scope</em>. Oznacza to, że nazwa pakietu będzie zawierała prefix w postaci znaku <em>at</em> <code>@</code>, nazwy użytkownika Twojego konta na NPM, oraz ukośnika <code>/</code>. Konto NPM założymy nieco później, więc na razie zamiast niej użyjemy słowa <code>user</code>. Po tym prefiksie możemy podać dowolną nazwę naszego pakietu, np. <code>randomid-generator</code>. Zatem nazwą Twojego pakietu NPM będzie, na razie, <code>@user/randomid-generator</code>. Docelowo zamienisz słowo <code>user</code> na swoją nazwę użytkownika.</p>
<pre class=" language-js"><code class=" language-js"><span class="token punctuation">{</span>
  <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"@user/randomid-generator"</span><span class="token punctuation">,</span>
  <span class="token string">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>
  <span class="token string">"main"</span><span class="token operator">:</span> <span class="token string">"index.js"</span><span class="token punctuation">,</span>
  <span class="token string">"license"</span><span class="token operator">:</span> <span class="token string">"MIT"</span>
<span class="token punctuation">}</span></code></pre>
<div class="bc-note alert-warning">
<h4 class="alert-heading text-center">Uwaga!</h4>
<p>NPM nie narzuca, jak powinniśmy nazywać nasze paczki, stosuje jednak filtry antyspamowe. Niektóre nazwy mogą więc zostać odrzucone, jeśli skrypt wykryje jakieś podejrzane słowa.</p>
</div>
<h4>Tworzymy moduł</h4>
<p>Utwórz teraz nowy plik – <code>index.js</code>. To w nim będzie cały nasz kod.</p>
<div class="bc-note alert-info">
<h4 class="alert-heading text-center">Dlaczego <code>index.js</code>?</h4>
<p>Dlaczego akurat taka nazwa pliku? Dlatego, że tak ustaliliśmy już w <code>package.json</code> (pole <code>main</code>). Po co jednak w ogóle musimy nazwę tego pliku wcześniej określić?</p>
<p>W momencie pobierania paczki NPM umieszcza ją w folderze <code>node_modules</code>. Gdy następnie chcemy jej użyć, robimy to następująco:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword module">import</span> <span class="token imports">paczka</span> <span class="token keyword module">from</span> <span class="token string">'paczka'</span><span class="token punctuation">;</span></code></pre>
<p>Czyli na przykład:</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">React</span></span> <span class="token keyword module">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span></code></pre>
<p><code>import</code> (lub <code>require</code>) oczywiście domyślnie poszuka tej paczki w <code>node_modules</code> (dla powyższego przykładu to np. <code>./node_modules/react</code>). Często jednak w folderze znajduje się więcej niż jeden plik. W takiej sytuacji to właśnie wpis w <code>main</code> podpowie, który jest faktycznym modułem do zaimportowania.</p>
</div>
<p>Otwórz ten plik. Zaczniemy od przygotowania eksportu, bowiem tak jak mówiliśmy wcześniej – <strong>nie budujemy aplikacji, tylko moduł, który inny będą mogli wykorzystywać w swoich aplikacjach.</strong></p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> <span class="token function-variable function">randomId</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> randomID<span class="token punctuation">;</span></code></pre>
<p>W tej chwili nasz kod jest jeszcze dość prosty. Mamy pustą funkcję, która jest eksportowana. <code>module.exports</code> (podobnie jak <code>export default</code>) zapewnia nas, że będzie ona mogła być zaimportowana z zewnątrz.</p>
<p>U nas modułem jest więc tylko jedna funkcja. Oczywiście możemy tworzyć również moduły, w których znajdzie się kilka różnych metod, podobnie jak robiliśmy to często w <code>import ... export</code>.</p>
<h4>Główna funkcjonalność</h4>
<p>Przyszedł wreszcie czas na zajęcie się już samą funkcją <code>randomID</code>. W założeniu ma być ona bardzo prosta. Chcemy, żeby generowała jakiś długi losowy string z literami i liczbami. Aby sama paczka była trochę ciekawsza, ustalimy jeden parametr <code>idLength</code>, który będzie decydował o ilości znaków w id.</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> <span class="token function-variable function">randomID</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">idLength</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> id <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> characters <span class="token operator">=</span> <span class="token string">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> charsAmount <span class="token operator">=</span> characters<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> idLength<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      id <span class="token operator">+=</span> characters<span class="token punctuation">.</span><span class="token method function property-access">charAt</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">floor</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> charsAmount<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">return</span> id<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>W samej funkcji nie ma nic nowego. Widzimy tablicę stałych znaków oraz zmienną <code>id</code>. Następnie za pomocą pętli <code>for</code> i funkcji <code>Math.random</code> dodajemy do niej <code>idLength</code> losowych znaków. Na końcu to, co udało nam sie wygenerować, po prostu zwracamy.</p>
<h3 id="265-publikujemy-wlasna-paczke-czas-na-publikacje">Czas na publikację!</h3>
<p>Czas na najważniejsze! Zanim jednak opublikujemy naszą paczkę, musimy zrobić jeszcze jedną rzecz – stworzyć konto na <a href="https://npmjs.com/" target="_blank">npmjs.com</a>.</p>
<h4>Tworzymy konto</h4>
<p>Możesz to zrobić, wpisując w konsoli komendę <code>npm adduser</code>. Po wybraniu loginu, hasła i emaila, od razu zostajemy automatycznie zalogowani. <strong>Nie zapomnij o mailu aktywacyjnym, który powinien znaleźć się na Twojej poczcie.</strong> Bez aktywacji konta, nie możemy publikować paczek.</p>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/NPM3.png" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/NPM3.png" alt="image" style="width: auto;"></a>
<p>Po rejestracji wróć do konsoli w swoim projekcie i uruchom komendę:</p>
<pre class=" language-js"><code class=" language-js">npm whoami</code></pre>
<p>Zwróci ona informację o aktualnie zalogowanym użytkowniku. Upewnisz się, dzięki temu, czy na pewno wszystko jest w porządku.</p>
<p>Przy okazji <strong>zmienimy nazwę naszego pakietu</strong>. Otwórz plik <code>package.json</code> i znajdź w nim pole <code>name</code>. W naszym przykładzie była w nim wartość <code>@user/randomid-generator</code>. Zamień słowo <code>user</code> na swoją nazwę użytkownika.</p>
<h4>Publikujemy paczkę</h4>
<p>Sama publikacja paczki jest, wbrew pozorom, bardzo krótkim i przyjaznym procesem. Wystarczy wpisać w konsoli komendę:</p>
<pre class=" language-js"><code class=" language-js">npm publish <span class="token operator">--</span>access<span class="token operator">=</span><span class="token keyword">public</span></code></pre>
<p>I... gotowe! :)</p>
<a href="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/NPM5.png" class="img-modal-group"><img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/NPM5.png" alt="image" style="width: auto;"></a>
<p>Komenda ta opublikuje naszą paczkę w repozytorium NPM-a.</p>
<p>Jeśli wszystko poszło dobrze, wejdź na <a href="https://npmjs.com/" target="_blank">npmjs.com</a> i poszukaj swojej paczki.</p>
<p>Od tej chwili każdy może ją&nbsp;pobrać i używać w swoich projektach!</p>
<h3 id="265-publikujemy-wlasna-paczke-testujemy">Testujemy!</h3>
<p>Upewnijmy się jeszcze, czy wszystko działa zgodnie z oczekiwaniami. Stwórz teraz nowy folder.  W ramach testów wykonamy mini-aplikację wykorzystującą naszą publiczną paczkę!</p>
<p>Zacznij, jak zawsze, od utworzenia <code>package.json</code>. Następnie pobierz swoją paczkę.</p>
<pre class=" language-markup"><code class=" language-markup">yarn add your-package-name</code></pre>
<p>W kolejnym kroku stwórz <code>index.js</code>, który będzie korzystał z naszego "zewnętrznego" modułu.</p>
<pre class=" language-js"><code class=" language-js"><span class="token keyword">const</span> randomID <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'your-package-name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">randomID</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Następnie uruchom w konsoli komendę:</p>
<pre class=" language-js"><code class=" language-js">node index<span class="token punctuation">.</span><span class="token property-access">js</span></code></pre>
<p>W konsoli powinniśmy otrzymać teraz losowy ciąg znaków.</p>
<p>Jeśli wszystko działa dobrze, może rozpierać Cię duma. Nie tylko opublikowaliśmy paczkę na repozytorium NPM-a, ale wiemy też, że faktycznie każdy będzie w stanie skorzystać z niej w swoim projekcie.</p>
<h3 id="265-publikujemy-wlasna-paczke-v10-v11-v12">v1.0, v1.1, v1.2...</h3>
<p>W idealnym świecie wszystkie pisane skrypty od razu byłyby doskonałe, a wszelkie poprawki zbędne. Rzeczywistość jest jednak inna. Poprawianie błędów i rozwijanie funkcjonalności to chleb powszedni każdego programisty. Istnieje więc duża szansa, że przyjdzie taki moment, w którym zechcesz opublikować nowszą wersję swojej aplikacji.</p>
<p>NPM pozwala to zrobić w bardzo łatwy sposób.</p>
<p>Wystarczy, że po zmianach, w folderze swojej paczki, uruchomisz komendę:</p>
<pre class=" language-markup"><code class=" language-markup">npm version numer-wersji</code></pre>
<p>np.</p>
<pre class=" language-markup"><code class=" language-markup">npm version 1.0.1</code></pre>
<p>A następnie opublikujesz ją za pomocą:</p>
<pre class=" language-markup"><code class=" language-markup">npm publish</code></pre>
<p>Od tego momentu w repozytorium NPM-a będzie dostępna również nowsza wersja Twojej paczki.</p>
<div class="bc-note alert-info">
<h4 class="alert-heading text-center">Numeracja wersji</h4>
<p>Standardowo używa się <a href="https://semver.org/" target="_blank">semantycznego wersjonowania</a>, w którym numer wersji składa się z trzech liczb. Są to kolejno numery:</p>
<ul>
<li><em>major</em>, czyli główny numer wersji,</li>
<li><em>minor</em>, czyli pomniejszy numer wersji,</li>
<li><em>patch</em>, czyli numer poprawki.</li>
</ul>
<p>Jeśli zmieniamy naszą aplikację w gruntowny sposób, który np. wymaga innego sposobu jej stosowania, powinniśmy zmienić numer główny. Na przykład, z wersji 1.7.13 przejść na wersję 2.0.0.</p>
<p>Drugi numer zmieniamy przy dodawaniu nowych funkcjonalności do naszej aplikacji, a ostatni – kiedy tylko naprawiamy błędy.</p>
<p>Oczywiście, jeśli jednocześnie zmieniamy komendy uruchamiające naszą aplikację, oraz wprowadzamy nowe funkcjonalności, a także naprawiamy błędy, to nie zmieniamy wszystkich trzech numerów. W tej sytuacji zmienimy tylko główny numer.</p>
<p>Dodatkową zaletą przejrzystości tego systemu wersjonowania jest fakt, że możemy używać komend <code>npm version major</code>, <code>npm version minor</code> oraz <code>npm version patch</code>. Każda z nich automatycznie zmieni numer wersji na odpowiednim poziomie, zastąpi go w <code>package.json</code>, oraz zapisze nowy commit.</p>
</div>

                        </div>
                    </div>
                                        <div class="card-block task-card">
                        <h3 id="265-publikujemy-wlasna-paczke-zadanie-dodajemy-opis">Zadanie: <span class="task-title">dodajemy opis</span></h3>
                        <div class="task-content">
                            <p>Nasza paczka jest już dostępna na NPM-ie, ale z powodu braku opisu, ciężko stwierdzić, do czego dokładnie służy i jak się jej używa.</p>
<p>Twoim zdaniem jest dodanie do folderu paczki pliku <code>README.md</code>, dopisanie do niego kilku informacji o skrypcie, a następnie opublikowanie jej jako nowej wersji – <code>1.0.1</code>.</p>
<p>Gdy skończysz, wyślij link do paczki opublikowanej w repozytorium Twojemu mentorowi.</p>

                        </div>
                    </div>
                                        <div class="card-block submodule-footer clearfix  completed ">
                                                <div class="clearfix">
                                                                                <a href="https://kodilla.com/pl/bootcamp-task/407/658348" target="_blank" class="btn btn-info-outline">Podgląd zadania</a>
                            <form target="_blank" class="form-inline project-link-form">
                                <div class="form-group">
                                    <input type="text" name="link" class="form-control" value="https://www.npmjs.com/package/@skwiryt/id-generator">
                                </div>
                                <button type="submit" class="btn  btn-primary ">Wyślij link <i class="fa fa-check"></i></button>
                            </form>
                                                                                                    </div>
                    </div>
                </section>
                                    
                <section id="submodule-1112" class="card submodule completed" data-bootcamp-user-submodule-id="658349">
                <!-- klasy dla section: completed current comments -->
                    <div class="card-block submodule-header clearfix">
                        <i class="fa fa-check-circle-o fa-2x"></i>
                        <i class="fa fa-play-circle-o fa-2x"></i>
                        <i class="fa fa-exclamation-circle fa-2x"></i>
                        <i class="fa fa-send-o fa-2x"></i>
                        <h2 class="bootcamp-submodule-name">26.6. <span>Podsumowanie</span></h2>
                                            </div>
                    <div class="card-block">
                        <div class="submodule-content">
                            <p>Podczas lektury tego modułu mogło pojawić się&nbsp;wrażenie, że niektóre rzeczy zostały przez nas pokazane tylko w pigułce, bardzo pobieżnie. Tyczy się to np. <em>Jimpa</em> czy <em>Electrona</em>, które ledwie "liznęliśmy". Mieliśmy jednak ku temu powody. Przydatnych paczek do Node'a jest multum, a narzędzi o takiej samej funkcjonalności jak Electron można znaleźć w internecie kilka. Nikt z nas nie wie, które konkretnie w przyszłości będą przez Ciebie używane w pracy. Dlatego też, zamiast pokazywać w detalach działanie jednej czy dwóch paczek, woleliśmy, aby ten moduł był dla Ciebie bardziej wyznacznikiem (chociażby w małym ułamku) tego, <strong>co może nam zaoferować Node.js.</strong>  Chcieliśmy również uświadomić Ci, że wbrew temu, co pokazuje mnóstwo tutoriali na rynku, <strong>Node.js to nie tylko narzędzie do tworzenia serwerów</strong>. Możemy za jego pomocą zrobić znacznie więcej! Jak widzisz, my w tym module nawet nie utworzyliśmy serwera. Zamiast tego pokazaliśmy inne sposoby wykorzystania Node.js.</p>
<p>Przy okazji naszych ćwiczeń, było Ci dane przede wszystkim poznać, jak wygląda sama praca z tym narzędziem. Jak widzisz, ostatecznie nie różni się ona tak bardzo od zwykłej pracy na "froncie".</p>
<p>Submoduł o publikowaniu paczki na NPM możesz potraktować jako "coś ekstra". Być może nieczęsto nadejdzie potrzeba użycia przez Ciebie tej umiejętności. Niemniej jednak warto wiedzieć, jak przebiega cały ten proces.</p>
<p>W kolejnym module wciąż będziemy pracować na backendzie. Tym razem zajmiemy się już jednak bardziej klasycznym tematem – tworzeniem własnego serwera!</p>

                        </div>
                    </div>
                                        <div class="card-block submodule-footer clearfix  completed ">
                                                <small>Jeśli masz wątpliwości do powyższego materiału, to - zanim zatwierdzisz - zapytaj na czacie :)</small>
                                                <div class="clearfix">
                                                                                <button class="btn  btn-primary "><i class="fa fa-check"></i><span>Zapoznałe(a)m się!</span></button>
                                                                                                    </div>
                    </div>
                </section>
                            </main>
        </div>
    </section>
</main>
;
<script async="" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/ei.js"></script>
<script type="text/x-translation" data-translation-name="SentBootcampLinkReviewFormMessage">Wysłano link do zatwierdzenia</script>
    <div id="alerts">
    <div class="alert alert-danger" role="alert" style="display: none;">
        <i class="fa fa-exclamation" aria-hidden="true"></i>
        <button type="button" class="close" data-hide="alert" aria-label="Zamknij">
            <span aria-hidden="true">×</span>
            <span class="sr-only">Zamknij</span>
        </button>
        <ul>
                        </ul>
    </div>
    <div class="alert alert-success" role="alert" style="display: none;">
        <i class="fa fa-check" aria-hidden="true"></i>
        <button type="button" class="close" data-hide="alert" aria-label="Zamknij">
            <span aria-hidden="true">×</span>
            <span class="sr-only">Zamknij</span>
        </button>
        <ul>
                </ul>
    </div>
    <div class="alert alert-warning" role="alert" style="display: none;">
        <i class="fa fa-warning" aria-hidden="true"></i>
        <button type="button" class="close" data-hide="alert" aria-label="Zamknij">
            <span aria-hidden="true">×</span>
            <span class="sr-only">Zamknij</span>
        </button>
        <ul>
                </ul>
    </div>
    <div class="alert alert-info" role="alert" style="display: none;">
        <i class="fa fa-info" aria-hidden="true"></i>
        <button type="button" class="close" data-hide="alert" aria-label="Zamknij">
            <span aria-hidden="true">×</span>
            <span class="sr-only">Zamknij</span>
        </button>
        <ul>
                    </ul>
    </div>
    <div class="container">
        <div class="alert alert-notify" role="alert" style="display: none;">
            <i class="fa fa-info" aria-hidden="true"></i>
            <button type="button" class="close" data-hide="alert" aria-label="Zamknij">
                <span aria-hidden="true">×</span>
                <span class="sr-only">Zamknij</span>
            </button>
            <ul>
                            </ul>
        </div>
    </div>
</div>
    <div class="modal fade informator-modal" id="informator" tabindex="-1" role="dialog" aria-labelledby="informatorModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <img src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/logo-menu.png" alt="Logo Kodilla" class="brand-logo">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="fa fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <div class="modal-body content-container">
                <h3>Zamów szczegółowy informator</h3>
                <form class="row js-ajax-form" data-view-class="InformatorForm" action="https://kodilla.com/pl/download-informator" method="post">
                    <input type="hidden" name="ga-pobieranie-informatora-z-modala" value="wypelnienie">
                    <input type="hidden" name="tags[0]" value="informator">
                                        <div class="user-data-container">
                        <input type="text" class="form-control" name="firstname" placeholder="Imię">
                        <input type="text" class="form-control" name="surname" placeholder="Nazwisko">
                    </div>
                    <div class="user-data-container">
                        <input type="email" class="form-control" name="email" placeholder="Email" required="">
                        <input type="tel" class="form-control" name="phone" placeholder="Numer telefonu" pattern="^([\+][0-9]{1,3}([ \.\-])?)?([\(]{1}[0-9]{3}[\)])?([0-9 \.\-]{1,15})$" title="Wpisz poprawny numer telefonu, np. 453 674 897" minlength="9" maxlength="15" data-custom-message="Wpisz poprawny numer telefonu, np. 453 674 897">
                    </div>
                    <div class="terms-box">
                        <label>
                            <input name="accept_terms" value="true" data-custom-message="Prosimy o zaakceptowanie regulaminu" type="checkbox" class="form-control input-checkbox" required="">
                            <span>Akceptuję <a target="_blank" href="https://kodilla.com/pl/regulamin">regulamin</a>  i nie wnoszę zastrzeżeń</span>
                        </label>
                    </div>
                    <div class="personal-terms-box">
                        <label>
                            <input name="accept_marketing" value="true" data-custom-message="Jeśli chcesz otrzymać dostęp do materiałów, konieczna jest akceptacja obydwu zgód" type="checkbox" class="form-control input-checkbox" required="">
                            <span>Chcę otrzymywać newsletter, informacje o promocjach i produktach dostępnych w Kodilla.
                                <span class="details-button" data-action="show-details" data-identifier="personal-terms-details-informator">Czytaj więcej</span>
                                <span class="display-none" data-identifier="personal-terms-details-informator">Wyrażam zgodę na otrzymywanie informacji handlowych od Kodilla na podany przeze mnie adres e-mail. Zgoda jest dobrowolna, jednakże niezbędna do otrzymywania informacji o produktach, promocjach i o tym, co u nas słychać. Administratorem danych jest Codemy S.A. z siedzibą we Wrocławiu, Plac Powstańców Śląskich 13/4. Mam prawo cofnąć zgodę w każdym czasie, jednak wtedy nie będę otrzymywać informacji. Dane mogą być przetwarzane pomimo cofnięcia zgody wyłącznie w takim zakresie i celu, w jakim ich przetwarzanie jest niezbędne do ustalenia, dochodzenia lub obrony roszczeń Administratora w związku z udzieloną zgodą. Mam prawo dostępu do danych, sprostowania, usunięcia, ograniczenia przetwarzania, prawo wniesienia sprzeciwu, skargi do organu nadzorczego i przeniesienia danych. Szczegółowe informacje znajdują się na stronie kodilla.com, zakładka "Polityka Prywatności".</span>
                            </span>
                        </label>
                    </div>
                    <div class="display-none">
                        <input type="text" name="myName" value="">
                    </div>
                    <div class="">
                        <button type="submit" class="btn btn-primary">
                            Pobierz Informator
                            <i data-role="loading-icon" class="fa fa-spinner fa-spin fa-1x fa-fw display-none"></i>
                        </button>
                    </div>
                </form>
                <a href="https://kodilla.com/pl/informator" id="informator-link" target="_blank" class="display-none"></a>
            </div>
            <div class="modal-footer">
                <p>Pobranie informatora do niczego nie zobowiązuje</p>
            </div>
        </div>
    </div>
</div>
<footer class="site-footer">
                <section class="footer-lower">
            <nav class="container">
                <a class="navbar-img" href="https://kodilla.com/pl">
                    <svg id="kodilla-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 168 29.553" width="168" height="30">
                        <defs>
                            <style>
                                .footer-logo-fill {
                                    fill: #fff;
                                }
                            </style>
                        </defs>
                        <g id="Group_1" data-name="Group 1" transform="translate(23.59)">
                            <path id="KODILLA_copy_5_1_" class="footer-logo-fill" d="M78.058,0a14.758,14.758,0,1,0,.075,0Zm0,23.739a8.939,8.939,0,0,1-8.944-8.907V14.8c0-4.957,4.584-.708,8.907-.708,4.919,0,9.019-4.211,9.019.708a8.978,8.978,0,0,1-8.981,8.944Z" transform="translate(-63.3)"></path>
                            <ellipse id="eye_copy_4_1_" class="footer-logo-fill" cx="3.876" cy="3.876" rx="3.876" ry="3.876" transform="translate(9.462 13.2) rotate(-28.436)"></ellipse>
                        </g>
                        <path id="Path_1" data-name="Path 1" class="footer-logo-fill" d="M0,29.819V.9H6.671V13.347L17.255.9h7.491L13.938,13.794,25.491,29.819h-7.6l-8.2-11.665-3.019,3.13v8.5H0Z" transform="translate(0 -0.565)"></path>
                        <path id="Path_2" data-name="Path 2" class="footer-logo-fill" d="M151.4,29.819V.9h10.807a15.515,15.515,0,0,1,6.261,1.155,12.966,12.966,0,0,1,4.509,3.093A12.918,12.918,0,0,1,175.7,9.732a17.245,17.245,0,0,1,.932,5.59,16.821,16.821,0,0,1-1.006,5.963,12.227,12.227,0,0,1-2.907,4.547,13.484,13.484,0,0,1-4.547,2.944,15.964,15.964,0,0,1-5.925,1.043Zm18.41-14.5a11.274,11.274,0,0,0-.522-3.466,7.723,7.723,0,0,0-1.491-2.72,6.616,6.616,0,0,0-2.385-1.752,8.055,8.055,0,0,0-3.205-.6h-4.1v17.18h4.1a7.985,7.985,0,0,0,3.242-.634,6.8,6.8,0,0,0,2.385-1.826,8.286,8.286,0,0,0,1.453-2.72A11.634,11.634,0,0,0,169.81,15.322Z" transform="translate(-94.978 -0.565)"></path>
                        <path id="Path_3" data-name="Path 3" class="footer-logo-fill" d="M228.3,29.819V.9h6.671V29.819Z" transform="translate(-143.219 -0.565)"></path>
                        <path id="Path_4" data-name="Path 4" class="footer-logo-fill" d="M259.9,29.819V.9h6.671V23.968h14.012v5.851Z" transform="translate(-163.043 -0.565)"></path>
                        <path id="Path_5" data-name="Path 5" class="footer-logo-fill" d="M327.371,23.931V.9H320.7V29.819h18.522l2.124-5.851H327.371Z" transform="translate(-201.185 -0.565)"></path>
                        <path id="Path_6" data-name="Path 6" class="footer-logo-fill" d="M388.547.9h6.037L405.13,29.819h-6.857l-2.236-6.484h-9.019l-2.2,6.484H378Zm6.373,17.851L391.528,8.54l-3.466,10.211Z" transform="translate(-237.13 -0.565)"></path>
                    </svg>
                </a>
                <ul class="nav">
                    <li>
                        <a href="https://kodilla.com/pl/regulamin" rel="nofollow">Regulamin</a>
                    </li>
                    <li>
                        <a href="https://kodilla.com/pl/polityka-prywatnosci" rel="nofollow">Polityka prywatności</a>
                    </li>
                    <li class="nav-item nav-item-last">© 2021 Kodilla</li>
                </ul>
            </nav>
        </section>
    </footer>

<!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KN2WWBH" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/jquery-2.1.4.min.js"></script>
<script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/js.cookie-2.1.0.min.js"></script>
<script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/jquery-dateFormat.min.js"></script>
<script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/bootstrap.min.js"></script>
<script>
    (function () {
        $(document).ready(function () {
            if (window.location.hash === '#informator-modal') {
                showInformator();
            }
        });

        $('[data-action="show-modal"]').click(function() {
            showInformator();
        });

        function showInformator() {
            $('#informator').modal('show');
        }
    })();
</script>
<script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/fb-412414a519.js" async=""></script>
<script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/call-us-261b222cf4.js"></script>
<script>
    if (document.querySelector('main.editor')) {
        document.querySelector('body').classList.add('editor');
    }
</script>

<script type="text/javascript" async="">
  setTimeout(function (){
      (function(e,t,o,n,p,r,i){e.visitorGlobalObjectAlias=n;e[e.visitorGlobalObjectAlias]=e[e.visitorGlobalObjectAlias]||function(){(e[e.visitorGlobalObjectAlias].q=e[e.visitorGlobalObjectAlias].q||[]).push(arguments)};e[e.visitorGlobalObjectAlias].l=(new Date).getTime();r=t.createElement("script");r.src=o;r.async=true;i=t.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i)})(window,document,"https://diffuser-cdn.app-us1.com/diffuser/diffuser.js","vgo");
      vgo('setAccount', '649095895');
      vgo('setTrackByDefault', true);

      vgo('process');
  }, 3000);

</script>

<script>
    document.addEventListener("DOMContentLoaded", yall);
    window.environment = 'production';
    window.loggedIn = true;
    window.domain = 'https://kodilla.com';
            window.fbAppId = 1449248938627896;
    window.chatService = 'LiveAgent';
    window.useMessenger = window.chatService === 'Messenger';
    window.locale = 'pl';
    window.lang = 'pl';

    window.serverUTC       = 1627846343000;
    window.serverOffset    = 120;
    window.userDate        = new Date();
    window.userUTC         = userDate.getTime();
    window.userOffset      = userDate.getTimezoneOffset() * (-1);
    window.userClockDiff   = userUTC - serverUTC;
    window.diffRounded     = Math.round( userClockDiff / ( 1000 * 60 * 15 ) );
    window.isDifferentZone = ( userOffset - serverOffset !== 0 ) ? 1 : 0;
    window.hasWrongTime    = ( diffRounded !== 0 ) ? 1 : 0;
    window.dateTooltipText = 'Data i godzina są podane dla Twojej strefy czasowej GMT. <br>W razie wątpliwości napisz: <u>support@kodilla.com</u>.';
    window.wrongHourNotice = 'Godzina na Twoim urządzeniu r&oacute;żni się od godziny obowiązującej w strefie czasowej wybranej w ustawieniach Twojego urządzenia.';

    window.PAYU_HASH_ALGORITHM = 'SHA-256';
    window.PAYU_POS_ID = 1429452;
    window.PAYU_MD5_SECOND_KEY = 'f3627be5fab5a4238c8474936f057908';

    var moment = undefined,
        momentReady = function( method, method2, count ){
            var c = ( count ) ? count : 0;

            if      ( isDifferentZone && moment !== undefined ){
                if      ( method ) { method(); }
                else    { return false; }
            }
            else if ( isDifferentZone && moment === undefined ) {
                if ( c < 20 ) {
                    c++;
                    setTimeout( function() { momentReady( method, method2, c ); }
                        , 300 );
                } else {
                    if      ( method2 === true && method )  { method(); }
                    else if ( method2 !== true && method2 ) { method2(); }
                }
            }
            else {
                if      ( method2 === true && method )  { method(); }
                else if ( method2 !== true && method2 ) { method2(); }
                else    { return false; }
            }
        };

    if ( window.isDifferentZone && moment === undefined ) {
        var script = document.createElement("script");
        script.type = "text/javascript";
        script.src = '/static/js/libs/moment.timezone.locales.min.js?v=2.22.2';
        document.getElementsByTagName("head")[0].appendChild(script);
    }
</script>
<script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/OneSignalSDK.js" async=""></script>
<script>
    var OneSignal = window.OneSignal || [];
    OneSignal.push(function() {
        OneSignal.init({
            appId: "92552bb5-b477-4ea2-8260-dba65be198d9",
        });
    });
</script>
<script data-ad-client="ca-pub-9483216428129091" async="" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/f.txt"></script>
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:2404285,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
        <script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/underscore-min.js"></script>
<script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/backbone-min.js"></script>
<script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/backbone-relational.min.js"></script>
<script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/backbone-super.min.js"></script>
<script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/handlebars-v4.0.5.min.js"></script>
<script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/handlebars-ifCond-139a2339f7.js"></script>
<script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/application-0dcfdc1306.js"></script>
<script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/main-cf3b73d734.js"></script>
<script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/settings-5fc44a761b.js"></script>
<script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/delete-account-da2b3de486.js"></script>
<script type="text/x-translation" data-translation-name="checkAccountDeleteCalculationMessage">Wynik jest nieprawidłowy</script>
<script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/forms-222ea01b08.js"></script>
<script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/alerts-66650c3acb.js"></script>
<script>
    App.Views.InpageAlertManager = Backbone.View.extend({
        events: {
            'click [data-alert-type][data-alert-text]': 'showAlert'
        },
        showAlert: function(e) {
            var $el = $(e.currentTarget);
            App.alertsView['show'+$el.data('alertType')]([App.Translations($el.data('alertText'))]);
        }
    });
</script>
<script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/collections-c07e1162e2.js"></script>
<script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/models-4e0e4fcffb.js"></script>
<script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/knowledge-base-61f71273c9.js"></script>
<script>
    App.Views.LearningProgram = Backbone.View.extend({
        events: {
            'click [data-technology-desc-expander]' : 'expandTechnologyDesc'
        },

        initialize: function() {
            this.$allTechnologyDesc = this.$el.find('[data-technology-desc]');
            this.$allTechnologyExpanderIcons = this.$el.find('[data-technology-expander-icon]');
        },

        expandTechnologyDesc: function() {
            this.$allTechnologyDesc.each(function(){
                var $desc = $(this);
                $desc.slideToggle('fast');
            });
            this.$allTechnologyExpanderIcons.each(function(){
                var $icon = $(this);
                $icon.toggleClass("fa-minus");
            });
        },
    });
</script>

    <script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/tether.min.js"></script>
    <script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/prism.min.js"></script>

    <script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/bootcamp-1522c7c010.js"></script>
    <script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/jquery.seourl.min.js"></script>
    <script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/perfect-scrollbar.jquery.min.js"></script>
    <script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/jquery.fancybox.min.js"></script>
    <script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/moment.timezone.locales.min.js"></script>
    <script src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/bootstrap-datetimepicker.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $("a.img-modal-group").fancybox();
        });
    </script>

<div class="modal fade" tabindex="-1" role="dialog" id="call-us-modal">
    <div class="modal-dialog modal-dialog-callus" role="document">
        <div class="modal-content call-modal">
            <div id="call-us-step1">
                <h2>Umów się na rozmowę z doradcą Kodilli</h2>
                <p>Krok <span>1/2:</span> Podaj numer telefonu</p>
                <form action="https://kodilla.com/pl/call-center/dates/phone_calls" method="post" id="call-us-form1">
                    <input type="tel" name="phone" id="call-us-input-phone" class="call-center-input" placeholder="731771787">
                    <p class="error-message display-none" id="validation-message-phone">Pole Numer Telefonu jest wymagane. Nieprawidłowy format.</p>
                    <button class="btn btn-success" id="call-us-submit-phone">Zarezerwuj rozmowę</button>
                </form>
                <p id="call-us-counter-holder" style="display: none;">Dzisiaj już  <span id="call-us-counter" class="call-counter" data-url="https://kodilla.com/pl/call-center/counter/phone_calls">-</span> <span id="call-us-counter-text" data-one=" osoba zamówiła rozmowę z nami." data-few=" osoby zamówiły rozmowę z nami." data-more=" osób zamówiło rozmowę z nami."></span></p>
                <div class="data-protection">
                    <p>Twój numer telefonu nie będzie wykorzystywany w celach marketingowych ani przekazany dalej. Tylko oddzwonimy. Dane są przetwarzane zgodnie z <a href="https://kodilla.com/pl/polityka-prywatnosci">Polityką Prywatności</a>.</p>
                </div>
            </div>

            <div id="call-us-step2" style="display: none;">
                <h2>Wybierz dogodny termin i godzinę na rozmowę z doradcą</h2>
                <p>Krok <span>2/2:</span>
                </p><form action="https://kodilla.com/pl/call-center/step2/phone_calls" method="post" id="call-us-form2">
                    <div class="select-date">
                        <select name="date" id="call-us-input-date">
                        </select>
                        <select name="time" id="call-us-input-time">
                        </select>
                    </div>
                    <button class="btn btn-success" id="call-us-submit-call">Oddzwońcie do mnie!</button>
                </form>
            </div>

            <div id="call-us-step3" style="display: none;">
                <div class="thanks">
                    <i class="fa fa-check-circle" aria-hidden="true"></i>
                    <h2>Dziękujemy za zamowienie rozmowy! Do usłyszenia w wybranym terminie!</h2>
                </div>
            </div>
        </div>
    </div>
</div>



                <style type="text/css">
    .embeddedServiceHelpButton .helpButton .uiButton {
        background-color: #1EA71C;
        font-family: "Arial", sans-serif;
    }
    .embeddedServiceHelpButton .helpButton .uiButton:focus {
        outline: 1px solid #1EA71C;
    }
</style>
<script>
    function openChat(){
        $('.helpButtonEnabled').trigger('click');
    }
</script>
<script type="text/javascript" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/esw.min.js"></script>

<script type="text/javascript">
    var initESW = function(gslbBaseURL) {
        let firstName = 'Marek Baberowski'.split(" ")[0];
        let lastName = 'Marek Baberowski'.split(" ")[1];
        console.log(name);
        embedded_svc.settings.displayHelpButton = true;
        embedded_svc.settings.language = '';

        embedded_svc.settings.defaultMinimizedText =  'Skontaktuj się z nami';
        embedded_svc.settings.disabledMinimizedText = ' ';

        embedded_svc.settings.loadingText = 'Ładowanie';
        embedded_svc.settings.storageDomain = 'kodilla.com';

        embedded_svc.settings.prepopulatedPrechatFields = {
            'FirstName': firstName,
            'LastName': lastName,
            'Email': 'm.z.baberowski@gmail.com'
        };
        embedded_svc.settings.offlineSupportMinimizedText = 'Napisz do nas';

        embedded_svc.settings.enabledFeatures = ['LiveAgent'];
        embedded_svc.settings.entryFeature = 'LiveAgent';

        embedded_svc.init(
            'https://kodilla.my.salesforce.com',
            'https://kodillacommunity.force.com',
            gslbBaseURL,
            '00D1i000000VBFH',
            'Support_Kodilla',
            {
                baseLiveAgentContentURL: 'https://c.la1-c2-fra.salesforceliveagent.com/content',
                deploymentId: '5721i00000009s9',
                buttonId: '5731i0000000AJN',
                baseLiveAgentURL: 'https://d.la1-c2-fra.salesforceliveagent.com/chat',
                eswLiveAgentDevName: 'Support_Kodilla',
                isOfflineSupportEnabled: true
            }
        );
    };

    if (!window.embedded_svc) {
        var s = document.createElement('script');
        s.setAttribute('src', 'https://kodilla.my.salesforce.com/embeddedservice/5.0/esw.min.js');
        s.onload = function() {
            initESW(null);
        };
        document.body.appendChild(s);
    } else {
        initESW('https://service.force.com');
    }
</script><script id="common-script" type="text/javascript" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/common.min.js"></script>
        <div data-role="notifications-wrapper" class="notifications-wrapper"></div>
<!-- Facebook Pixel Code -->
    <script>
        setTimeout(function(){
            !function(f,b,e,v,n,t,s)
            {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
                n.callMethod.apply(n,arguments):n.queue.push(arguments)};
                if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
                n.queue=[];t=b.createElement(e);t.async=!0;
                t.src=v;s=b.getElementsByTagName(e)[0];
                s.parentNode.insertBefore(t,s)}(window, document,'script',
                'https://connect.facebook.net/en_US/fbevents.js');
            fbq('init', 389137334769464 );
            fbq('track', 'PageView');
        }, 3000);
    </script>
    <!-- End Facebook Pixel Code -->

    <!-- Google Tag Manager -->
    <script>
        setTimeout(function () {
            (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
            })(window,document,'script','dataLayer','GTM-KN2WWBH');
        }, 3000);

    </script>
    <!-- End Google Tag Manager -->

    
    

<iframe name="_hjRemoteVarsFrame" title="_hjRemoteVarsFrame" id="_hjRemoteVarsFrame" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/box-25a418976ea02a6f393fbbe77cec94bb.html" style="display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;"></iframe><script id="liveagent-esw-script" type="text/javascript" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/liveagent.esw.min.js"></script><form id="fileUploadForm" enctype="multipart/form-data" method="post" target="fileUploadIframe"><input type="file" id="fileSelector" name="file" style="display: none;"><input name="filename" type="hidden"></form><iframe id="fileUploadIframe" name="fileUploadIframe" title="FileUploadFrame" style="display: none;" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/saved_resource.html"></iframe><iframe id="esw_storage_iframe" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/esw.html" title="Live Chat Metadata" style="display: none;"></iframe><script type="text/javascript" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/EmbeddedServiceConfig.jsonp"></script><script id="invite-esw-script" type="text/javascript" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/invite.esw.min.js"></script><div class="embeddedServiceHelpButton"><div class="helpButton"><button class="helpButtonEnabled uiButton" href="javascript:void(0)"><span class="embeddedServiceIcon" aria-hidden="true" data-icon="" style="display: inline-block;"></span><span class="helpButtonLabel" id="helpButtonSpan" aria-live="polite" aria-atomic="true"><span class="assistiveText">Live chat:</span><span class="message">Napisz do nas</span></span></button></div></div><script id="inert-script" type="text/javascript" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/inert.min.js"></script><script type="text/javascript" src="./Moduł_ 26. Node.js - JavaScript poza przeglądarką_files/EmbeddedServiceConfig(1).jsonp"></script><div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; width: 0px; height: 0px;"><div></div></div></div>
<script type="text/javascript" id="">window._tfa=window._tfa||[];window._tfa.push({notify:"event",name:"page_view",id:1209537});!function(a,b,d,c){document.getElementById(c)||(a.async=1,a.src=d,a.id=c,b.parentNode.insertBefore(a,b))}(document.createElement("script"),document.getElementsByTagName("script")[0],"//cdn.taboola.com/libtrc/unip/1209537/tfa.js","tb_tfa_script");</script>
<noscript>
  <img src="//trc.taboola.com/1209537/log/3/unip?en=page_view" width="0" height="0" style="display:none">
</noscript>


<script type="text/javascript" id="">window._adftrack=Array.isArray(window._adftrack)?window._adftrack:window._adftrack?[window._adftrack]:[];window._adftrack.push({pm:2049944});(function(){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src="https://track.adform.net/serving/scripts/trackpoint/async/";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})();</script>
<noscript>
    <p style="margin:0;padding:0;border:0;">
        <img src="https://track.adform.net/Serving/TrackPoint/?pm=2049944" width="1" height="1" alt="">
    </p>
</noscript>

<script type="text/javascript" id="">(function(){window.__insp=window.__insp||[];__insp.push(["wid",794470694]);var c=function(){if("undefined"==typeof window.__inspld){window.__inspld=1;var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.id="inspsync";a.src=("https:"==document.location.protocol?"https":"http")+"://cdn.inspectlet.com/inspectlet.js?wid\x3d794470694\x26r\x3d"+Math.floor((new Date).getTime()/36E5);var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}};setTimeout(c,0)})();</script>
</body></html>